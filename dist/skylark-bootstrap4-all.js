/**
 * skylark-bootstrap4 - The skylark bootstrap4 component library
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-bootstrap4/
 * @license MIT
 */
!function(factory,globals){var define=globals.define,require=globals.require,isAmd="function"==typeof define&&define.amd,isCmd=!isAmd&&"undefined"!=typeof exports;if(!isAmd&&!define){var map={};define=globals.define=function(t,e,n){"function"==typeof n?(map[t]={factory:n,deps:e.map(function(e){return function(t,e){if("."!==t[0])return t;var n=e.split("/"),i=t.split("/");n.pop();for(var r=0;r<i.length;r++)"."!=i[r]&&(".."==i[r]?n.pop():n.push(i[r]));return n.join("/")}(e,t)}),resolved:!1,exports:null},require(t)):map[t]={factory:null,resolved:!0,exports:n}},require=globals.require=function(t){if(!map.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var e=map[t];if(!e.resolved){var n=[];e.deps.forEach(function(t){n.push(require(t))}),e.exports=e.factory.apply(globals,n)||null,e.resolved=!0}return e.exports}}if(!define)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(define,require){define("skylark-langx/skylark",[],function(){return{}}),define("skylark-utils-dom/skylark",["skylark-langx/skylark"],function(t){return t}),define("skylark-utils-dom/dom",["./skylark"],function(t){return t.dom={}}),define("skylark-langx/types",[],function(){var t,e=(t={},"Boolean Number String Function Array Date RegExp Object Error".split(" ").forEach(function(e){t["[object "+e+"]"]=e.toLowerCase()}),function(e){return null==e?String(e):t[toString.call(e)]||"object"});function n(t){return"function"==e(t)}function i(t){return t&&t instanceof Node}function r(t){return"object"==e(t)}function o(t){return"string"==typeof t}function s(t){return t&&t==t.window}return{isArray:function(t){return t&&t.constructor===Array},isArrayLike:function(t){return!o(t)&&!i(t)&&"number"==typeof t.length&&!n(t)},isBoolean:function(t){return"boolean"==typeof t},isDefined:function(t){return void 0!==t},isDocument:function(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE},isEmptyObject:function(t){var e;for(e in t)if(null!==t[e])return!1;return!0},isFunction:n,isHtmlNode:i,isNumber:function(t){return"number"==typeof t},isObject:r,isPlainObject:function(t){return r(t)&&!s(t)&&Object.getPrototypeOf(t)==Object.prototype},isString:o,isSameOrigin:function(t){if(t){var e=location.protocol+"//"+location.hostname;return location.port&&(e+=":"+location.port),t.startsWith(e)}},isWindow:s,type:e}}),define("skylark-langx/objects",["./types"],function(t){var e,n,i=Object.prototype.hasOwnProperty,r=Array.prototype.slice,o=t.isBoolean,s=t.isFunction,a=t.isObject,l=t.isPlainObject,c=t.isArray;var u,h,f="undefined"!=typeof Symbol?Symbol.prototype:null;function d(t){if(!a(t))return[];var e=[];for(var n in t)e.push(n);return e}function p(t,e){if(!c(e))return null!=t&&i.call(t,e);for(var n=e.length,r=0;r<n;r++){var o=e[r];if(null==t||!i.call(t,o))return!1;t=t[o]}return!!n}function m(t,e,n,i){for(var r in e)i&&void 0!==t[r]||(n&&(l(e[r])||c(e[r]))?(l(e[r])&&!l(t[r])&&(t[r]={}),c(e[r])&&!c(t[r])&&(t[r]=[]),m(t[r],e[r],n,i)):void 0!==e[r]&&(t[r]=e[r]));return t}function g(t){var e=r.call(arguments,0),n=e.shift(),i=!1;return o(e[e.length-1])&&(i=e.pop()),{target:n,sources:e,deep:i}}function v(){var t=g.apply(this,arguments);return t.sources.forEach(function(e){m(t.target,e,t.deep,!1)}),t.target}return e=function(t,e,i,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return("function"===o||"object"===o||"object"==typeof e)&&n(t,e,i,r)},n=function(t,n,i,r){var o=toString.call(t);if(o!==toString.call(n))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return f.valueOf.call(t)===f.valueOf.call(n)}var a="[object Array]"===o;if(!a){if("object"!=typeof t||"object"!=typeof n)return!1;var l=t.constructor,c=n.constructor;if(l!==c&&!(s(l)&&l instanceof l&&s(c)&&c instanceof c)&&"constructor"in t&&"constructor"in n)return!1}i=i||[],r=r||[];for(var u=i.length;u--;)if(i[u]===t)return r[u]===n;if(i.push(t),r.push(n),a){if((u=t.length)!==n.length)return!1;for(;u--;)if(!e(t[u],n[u],i,r))return!1}else{var h,d=Object.keys(t);if(u=d.length,Object.keys(n).length!==u)return!1;for(;u--;)if(h=d[u],void 0===n[h]||!e(t[h],n[h],i,r))return!1}return i.pop(),r.pop(),!0},{allKeys:d,clone:function t(e,n){var i;if(void 0===e||null===e)i=e;else if(n&&e.clone)i=e.clone();else if(c(e)){i=[];for(var r=0;r<e.length;r++)i.push(t(e[r]))}else if(l(e))for(var o in i={},e)i[o]=t(e[o]);else i=e;return i},defaults:(u=d,h=!0,function(t){var e=arguments.length;if(h&&(t=Object(t)),e<2||null==t)return t;for(var n=1;n<e;n++)for(var i=arguments[n],r=u(i),o=r.length,s=0;s<o;s++){var a=r[s];h&&void 0!==t[a]||(t[a]=i[a])}return t}),each:function(t,e){var n,i,r,o;if(t)if(void 0===(n=t.length)){for(i in t)if(t.hasOwnProperty(i)&&(o=t[i],!1===e.call(o,i,o)))break}else for(r=0;r<n&&(o=t[r],!1!==e.call(o,r,o));r++);return this},extend:function(t){var e,n=r.call(arguments,1);"boolean"==typeof t&&(e=t,t=n.shift());0==n.length&&(n=[t],t=this);return n.forEach(function(n){v(t,n,e)}),t},has:p,isEqual:function(t,n){return e(t,n)},isMatch:function(t,e){var n=n(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0},keys:function(t){if(a(t))return[];var e=[];for(var n in t)p(t,n)&&e.push(n);return e},mixin:v,removeItem:function(t,e){if(c(t)){var n=t.indexOf(e);-1!=n&&t.splice(n,1)}else if(l(t))for(var i in t)if(t[i]==e){delete t[i];break}return this},result:function(t,e,n){c(e)||(e=[e]);var i=e.length;if(!i)return s(n)?n.call(t):n;for(var r=0;r<i;r++){var o=null==t?void 0:t[e[r]];void 0===o&&(o=n,r=i),t=s(o)?o.call(t):o}return t},safeMixin:function(){var t=g.apply(this,arguments);return t.sources.forEach(function(e){m(t.target,e,t.deep,!0)}),t.target},values:function(t){for(var e=_.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i}}}),define("skylark-langx/arrays",["./types","./objects"],function(t,e){var n=Array.prototype.filter,i=t.isArrayLike;function r(t){if(i(t)){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(i(r))for(var o=0;o<r.length;o++)e.push(r[o]);else e.push(r)}return e}return t}return{compact:function(t){return n.call(t,function(t){return null!=t})},first:function(t,e){return e?t.slice(0,e):t[0]},each:e.each,flatten:r,inArray:function(t,e){if(!e)return-1;var n;if(e.indexOf)return e.indexOf(t);n=e.length;for(;n--;)if(e[n]===t)return n;return-1},makeArray:function(t,e,n){if(i(t))return(n||[]).concat(Array.prototype.slice.call(t,e||0));return[t]},map:function(t,e){var n,o,s,a=[];if(i(t))for(o=0;o<t.length;o++)null!=(n=e.call(t[o],t[o],o))&&a.push(n);else for(s in t)null!=(n=e.call(t[s],t[s],s))&&a.push(n);return r(a)},uniq:function(t){return n.call(t,function(e,n){return t.indexOf(e)==n})}}}),define("skylark-langx/klass",["./arrays","./objects","./types"],function(t,e,n){var i=t.uniq,r=e.has,o=e.mixin,s=n.isArray,a=n.isDefined;var l=function(){function t(){return this._construct?this._construct.apply(this,arguments):this.init?this.init.apply(this,arguments):void 0}return function e(n,l,c,u){s(l)&&(u=c,c=l,l=null),l=l||Object,a(c)&&!s(c)&&(u=c,c=!1);var h=l;c&&(c=function(t,e){var n=[];return e.forEach(function(t){if(r(t,"__mixins__"))throw new Error("nested mixins");for(var e=[];t;)e.unshift(t),t=t.superclass;n=n.concat(e)}),(n=(n=i(n)).filter(function(e){for(var n=t;n;){if(e===n)return!1;if(r(n,"__mixins__"))for(var i=n.__mixins__,o=0;o<i.length;o++)if(i[o]===e)return!1;n=n.superclass}return!0})).length>0&&n}(h,c)),c&&(h=function(t,e){for(var n=t,i=0;i<e.length;i++){var r=new Function;r.prototype=Object.create(n.prototype),r.__proto__=n,r.superclass=null,o(r.prototype,e[i].prototype),r.prototype.__mixin__=e[i],n=r}return n}(h,c));var f=n.klassName||"",d=new Function("return function "+f+"() {var inst = this, ctor = arguments.callee;if (!(inst instanceof ctor)) {inst = Object.create(ctor.prototype);}return ctor._constructor.apply(inst, arguments) || inst;}")();return d.prototype=Object.create(h.prototype),d.prototype.constructor=d,d.superclass=l,d.__proto__=h,d._constructor||(d._constructor=t),c&&(d.__mixins__=c),d.partial||(d.partial=function(t,e){return function(t,e,n){var i=t.prototype,r=t.superclass.prototype,o=n&&n.noOverrided;for(var s in e)if("constructor"!==s){var a=e[s];"function"==typeof e[s]?i[s]=a._constructor||o||"function"!=typeof r[s]?a:function(t,e,n){return function(){var t=this.overrided;this.overrided=n;var i=e.apply(this,arguments);return this.overrided=t,i}}(0,a,r[s]):"object"==typeof a&&null!==a&&a.get?Object.defineProperty(i,s,a):i[s]=a}return t}(this,t,e)}),d.inherit||(d.inherit=function(t,n,i){return e(t,this,n,i)}),d.partial(n,u),d}}();return l}),define("skylark-langx/ArrayStore",["./klass"],function(t){var e=function(t){if(!t)return t;var n=!!t.then;function i(i){t[i]=function(){var r=arguments,o=Deferred.when(t,function(t){return e(Array.prototype[i].apply(t,r))});if("forEach"!==i||n)return o}}return n&&(t=Object.delegate(t)),i("forEach"),i("filter"),i("map"),null==t.total&&(t.total=Deferred.when(t,function(t){return t.length})),t},n=t({klassName:"ArrayStore",queryEngine:function(t,e){switch(typeof t){default:throw new Error("Can not query with a "+typeof t);case"object":case"undefined":var n=t;t=function(t){for(var e in n){var i=n[e];if(i&&i.test){if(!i.test(t[e],t))return!1}else if(i!=t[e])return!1}return!0};break;case"string":if(!this[t])throw new Error("No filter function "+t+" was found in store");t=this[t];case"function":}function i(n){var i=function(t,e,n){var i,r=0,o=t&&t.length||0,s=[];o&&"string"==typeof t&&(t=t.split(""));"string"==typeof e&&(e=cache[e]||buildFn(e));if(n)for(;r<o;++r)i=t[r],e.call(n,i,r,t)&&s.push(i);else for(;r<o;++r)i=t[r],e(i,r,t)&&s.push(i);return s}(n,t),r=e&&e.sort;if(r&&i.sort("function"==typeof r?r:function(t,e){for(var n,i=0;n=r[i];i++){var o=t[n.attribute],s=e[n.attribute];if(o=null!=o?o.valueOf():o,s=null!=s?s.valueOf():s,o!=s)return!!n.descending==(null==o||o>s)?-1:1}return 0}),e&&(e.start||e.count)){var o=i.length;(i=i.slice(e.start||0,(e.start||0)+(e.count||1/0))).total=o}return i}return i.matches=t,i},idProperty:"id",get:function(t){return this.data[this.index[t]]},getIdentity:function(t){return t[this.idProperty]},put:function(t,e){var n=this.data,i=this.index,r=this.idProperty,o=t[r]=e&&"id"in e?e.id:r in t?t[r]:Math.random();if(o in i){if(e&&!1===e.overwrite)throw new Error("Object already exists");n[i[o]]=t}else i[o]=n.push(t)-1;return o},add:function(t,e){return(e=e||{}).overwrite=!1,this.put(t,e)},remove:function(t){var e=this.index,n=this.data;if(t in e)return n.splice(e[t],1),this.setData(n),!0},query:function(t,n){return e(this.queryEngine(t,n)(this.data))},setData:function(t){t.items?(this.idProperty=t.identifier||this.idProperty,t=this.data=t.items):this.data=t,this.index={};for(var e=0,n=t.length;e<n;e++)this.index[t[e][this.idProperty]]=e},init:function(t){for(var e in t)this[e]=t[e];this.setData(this.data||[])}});return n}),define("skylark-langx/aspect",[],function(){var t,e=0;function n(n){return function(i,r,o,s){var a,l=i[r];l&&l.target==i||(i[r]=a=function(){for(var n=e,i=arguments,r=a.before;r;)i=r.advice.apply(this,i)||i,r=r.next;if(a.around)var o=a.around.advice(this,i);for(var s=a.after;s&&s.id<n;){if(s.receiveArguments){var l=s.advice.apply(this,i);o=l===t?o:l}else o=s.advice.call(this,o,i);s=s.next}return o},l&&(a.around={advice:function(t,e){return l.apply(t,e)}}),a.target=i);var c=function(t,n,i,r){var o,s=t[n],a="around"==n;if(a){var l=i(function(){return s.advice(this,arguments)});o={remove:function(){l&&(l=t=i=null)},advice:function(t,e){return l?l.apply(t,e):s.advice(t,e)}}}else o={remove:function(){if(o.advice){var e=o.previous,r=o.next;r||e?(e?e.next=r:t[n]=r,r&&(r.previous=e)):delete t[n],t=i=o.advice=null}},id:e++,advice:i,receiveArguments:r};if(s&&!a)if("after"==n){for(;s.next&&(s=s.next););s.next=o,o.previous=s}else"before"==n&&(t[n]=o,o.next=s,s.previous=o);else t[n]=o;return o}(a||l,n,o,s);return o=null,c}}return{after:n("after"),around:n("around"),before:n("before")}}),define("skylark-langx/funcs",["./objects","./types"],function(t,e){var n=t.mixin,i=Array.prototype.slice,r=e.isFunction,o=e.isString;var s=function(){function t(){}return function(e,i){t.prototype=e;var r=new t;return t.prototype=null,i&&n(r,i),r}}();return{debounce:function(t,e){var n;return function(){var i=this,r=arguments;n&&clearTimeout(n),n=setTimeout(function(){n=null,t.apply(i,r)},e)}},delegate:s,defer:function(t){requestAnimationFrame?requestAnimationFrame(t):setTimeoutout(t);return this},noop:function(){},proxy:function t(e,n){var s=2 in arguments&&i.call(arguments,2);if(r(e)){return function(){return e.apply(n,s?s.concat(i.call(arguments)):arguments)}}if(o(n))return s?(s.unshift(e[n],e),t.apply(null,s)):t(e[n],e);throw new TypeError("expected function")},returnTrue:function(){return!0},returnFalse:function(){return!1}}}),define("skylark-langx/Deferred",["./arrays","./funcs","./objects"],function(t,e,n){"use strict";var i=Symbol?Symbol():"__pglisteners",r=Array.prototype.slice,o=e.proxy,s=t.makeArray,a=n.result,l=n.mixin;l(Promise.prototype,{always:function(t){return this.then(t,t),this},done:function(t){return this.then(t),this},fail:function(t){return this.catch(t),this}});var c=function(){var t=this,e=this.promise=new Promise(function(e,n){t._resolve=e,t._reject=n});u(e,t),this[i]=[]};function u(t,e){var n={state:function(){return e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},then:function(t,e,i){return i&&this.progress(i),l(Promise.prototype.then.call(this,t&&function(e){return e&&void 0!==e.__ctx__?t.apply(e.__ctx__,e):t(e)},e&&function(t){return t&&void 0!==t.__ctx__?e.apply(t.__ctx__,t):e(t)}),n)},progress:function(t){return e[i].push(t),this}};return n.pipe=n.then,l(t,n)}return c.prototype.resolve=function(t){var e=r.call(arguments);return this.resolveWith(null,e)},c.prototype.resolveWith=function(t,e){return(e=e?s(e):[]).__ctx__=t,this._resolve(e),this._resolved=!0,this},c.prototype.progress=function(t){try{return this[i].forEach(function(e){return e(t)})}catch(t){this.reject(t)}return this},c.prototype.reject=function(t){var e=r.call(arguments);return this.rejectWith(null,e)},c.prototype.rejectWith=function(t,e){return(e=e?s(e):[]).__ctx__=t,this._reject(e),this._rejected=!0,this},c.prototype.isResolved=function(){return!!this._resolved},c.prototype.isRejected=function(){return!!this._rejected},c.prototype.then=function(t,e,n){var i=a(this,"promise");return i.then(t,e,n)},c.prototype.done=c.prototype.then,c.all=function(t){return u(Promise.all(t))},c.first=function(t){return u(Promise.race(t))},c.when=function(t,e,n,i){var r=t&&"function"==typeof t.then,s=r&&t instanceof Promise;if(!r)return arguments.length>1?e?e(t):t:(new c).resolve(t);if(!s){var a=new c(t.cancel);t.then(o(a.resolve,a),o(a.reject,a),a.progress),t=a.promise}return e||n||i?t.then(e,n,i):t},c.reject=function(t){var e=new c;return e.reject(t),e.promise},c.immediate=c.resolve=function(t){var e=new c;return e.resolve.apply(e,arguments),e.promise},c}),define("skylark-langx/async",["./Deferred","./arrays"],function(t,e){var n=e.each,i={parallel:function(e,i,r){var o=[];return r=r||null,i=i||[],n(e,function(t,e){o.push(e.apply(r,i))}),t.all(o)},series:function(e,i,r){var o=[],s=new t,a=s.promise;return r=r||null,i=i||[],s.resolve(),n(e,function(t,e){a=a.then(function(){return e.apply(r,i)}),o.push(a)}),t.all(o)},waterful:function(e,i,r){var o=new t,s=o.promise;return r=r||null,i=i||[],o.resolveWith(r,i),n(e,function(t,e){s=s.then(e)}),s}};return i}),define("skylark-langx/Evented",["./klass","./objects","./types"],function(t,e,n){var i=Array.prototype.slice,r=n.isDefined,o=n.isPlainObject,s=n.isFunction,a=n.isString,l=n.isEmptyObject,c=e.mixin,u=t({on:function(t,e,n,i,r,l){var c=this,u=this._hub||(this._hub={});return o(t)?(r=i,each(t,function(t,i){c.on(t,e,n,i,r,l)}),this):(a(e)||s(i)||(r=i,i=n,n=e,e=void 0),s(n)&&(r=i,i=n,n=null),a(t)&&(t=t.split(/\s/)),t.forEach(function(t){(u[t]||(u[t]=[])).push({fn:i,selector:e,data:n,ctx:r,one:l})}),this)},one:function(t,e,n,i,r){return this.on(t,e,n,i,r,1)},trigger:function(t){if(!this._hub)return this;var e=this;a(t)&&(t=new CustomEvent(t)),Object.defineProperty(t,"target",{value:this});var n=i.call(arguments,1);return n=r(n)?[t].concat(n):[t],[t.type||t.name,"all"].forEach(function(i){var r=e._hub[i];if(r){for(var o=r.length,s=!1,a=0;a<o;a++){var l=r[a];t.data?l.data&&(t.data=c({},l.data,t.data)):t.data=l.data||null,l.fn.apply(l.ctx,n),l.one&&(r[a]=null,s=!0)}s&&(e._hub[i]=compact(r))}}),this},listened:function(t){var e=(this._hub||(this._events={}))[t]||[];return e.length>0},listenTo:function(t,e,n,i){if(!t)return this;a(n)&&(n=this[n]),i?t.one(e,n,this):t.on(e,n,this);for(var r,o=this._listeningTo||(this._listeningTo=[]),s=0;s<o.length;s++)if(o[s].obj==t){r=o[s];break}r||o.push(r={obj:t,events:{}});var l=r.events,c=l[e]=l[e]||[];return-1==c.indexOf(n)&&c.push(n),this},listenToOnce:function(t,e,n){return this.listenTo(t,e,n,1)},off:function(t,e){var n=this._hub||(this._hub={});return a(t)&&(t=t.split(/\s/)),t.forEach(function(t){var i=n[t],r=[];if(i&&e)for(var o=0,s=i.length;o<s;o++)i[o].fn!==e&&i[o].fn._!==e&&r.push(i[o]);r.length?n[t]=r:delete n[t]}),this},unlistenTo:function(t,e,n){var i=this._listeningTo;if(!i)return this;for(var r=0;r<i.length;r++){var o=i[r];if(!t||t==o.obj){var s=o.events;for(var a in s)if(!e||e==a){for(var c=s[a],u=0;u<c.length;u++)n&&n!=c[r]||(o.obj.off(a,c[r],this),c[r]=null);c=s[a]=compact(c),l(c)&&(s[a]=null)}l(s)&&(i[r]=null)}}return i=this._listeningTo=compact(i),l(i)&&(this._listeningTo=null),this}});return u}),define("skylark-langx/strings",[],function(){return{camelCase:function(t){return t.replace(/-([\da-z])/g,function(t){return t.toUpperCase().replace("-","")})},dasherize:function(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},deserializeValue:function(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?JSON.parse(t):t):t}catch(e){return t}},lowerFirst:function(t){return t.charAt(0).toLowerCase()+t.slice(1)},serializeValue:function(t){return JSON.stringify(t)},substitute:function(t,e,n,i){function r(t,e){if(t.match(/\./)){var n,i=function(t,e){var r=t.pop();return r?e[r]?i(t,n=e[r]):null:n};return i(t.split(".").reverse(),e)}return e[t]}return i=i||window,n=n?proxy(i,n):function(t){return t},t.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(t,o,s){var a=r(o,e);return s&&(a=r(s,i).call(i,a,o)),n(a,o).toString()})},trim:function(t){return null==t?"":String.prototype.trim.call(t)},upperFirst:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}}}),define("skylark-langx/Xhr",["./arrays","./Deferred","./Evented","./objects","./funcs","./types"],function(arrays,Deferred,Evented,objects,funcs,types){var each=arrays.each,mixin=objects.mixin,noop=funcs.noop,isArray=types.isArray,isFunction=types.isFunction,isPlainObject=types.isPlainObject,type=types.type,getAbsoluteUrl=function(t){return a||(a=document.createElement("a")),a.href=t,a.href},a,Xhr=function(){var jsonpID=0,key,name,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType="application/json",htmlType="text/html",blankRE=/^\s*$/,XhrDefaultOptions={async:!0,type:"GET",beforeSend:noop,success:noop,error:noop,complete:noop,context:null,global:!0,accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,xhrFields:{withCredentials:!0}};function mimeToDataType(t){if(t&&(t=t.split(";",2)[0]),t){if(t==htmlType)return"html";if(t==jsonType)return"json";if(scriptTypeRE.test(t))return"script";if(xmlTypeRE.test(t))return"xml"}return"text"}function appendQuery(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function serializeData(t){t.data=t.data||t.query,t.processData&&t.data&&"string"!=type(t.data)&&(t.data=param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=appendQuery(t.url,t.data),t.data=void 0)}function serialize(t,e,n,i){var r,o=isArray(e),s=isPlainObject(e);each(e,function(e,a){r=type(a),i&&(e=n?i:i+"["+(s||"object"==r||"array"==r?e:"")+"]"),!i&&o?t.add(a.name,a.value):"array"==r||!n&&"object"==r?serialize(t,a,n,e):t.add(e,a)})}var param=function(t,e){var n=[];return n.add=function(t,e){isFunction(e)&&(e=e()),null==e&&(e=""),this.push(escape(t)+"="+escape(e))},serialize(n,t,e),n.join("&").replace(/%20/g,"+")},Xhr=Evented.inherit({klassName:"Xhr",_request:function(args){var _=this._,self=this,options=mixin({},XhrDefaultOptions,_.options,args),xhr=_.xhr=new XMLHttpRequest;serializeData(options);var dataType=options.dataType||options.handleAs,mime=options.mimeType||options.accepts[dataType],headers=options.headers,xhrFields=options.xhrFields,isFormData=options.data&&options.data instanceof FormData,basicAuthorizationToken=options.basicAuthorizationToken,type=options.type,url=options.url,async=options.async,user=options.user,password=options.password,deferred=new Deferred,contentType=!isFormData&&"application/x-www-form-urlencoded";if(xhrFields)for(name in xhrFields)xhr[name]=xhrFields[name];mime&&mime.indexOf(",")>-1&&(mime=mime.split(",",2)[0]),mime&&xhr.overrideMimeType&&xhr.overrideMimeType(mime);var finish=function(){xhr.onloadend=noop,xhr.onabort=noop,xhr.onprogress=noop,xhr.ontimeout=noop,xhr=null},onloadend=function(){var result,error=!1;if(xhr.status>=200&&xhr.status<300||304==xhr.status||0==xhr.status&&getAbsoluteUrl(url).startsWith("file:")){dataType=dataType||mimeToDataType(options.mimeType||xhr.getResponseHeader("content-type")),result=xhr.responseText;try{"script"==dataType?eval(result):"xml"==dataType?result=xhr.responseXML:"json"==dataType?result=blankRE.test(result)?null:JSON.parse(result):"blob"==dataType?result=Blob([xhrObj.response]):"arraybuffer"==dataType&&(result=xhr.reponse)}catch(t){error=t}error?deferred.reject(error,xhr.status,xhr):deferred.resolve(result,xhr.status,xhr)}else deferred.reject(new Error(xhr.statusText),xhr.status,xhr);finish()},onabort=function(){deferred&&deferred.reject(new Error("abort"),xhr.status,xhr),finish()},ontimeout=function(){deferred&&deferred.reject(new Error("timeout"),xhr.status,xhr),finish()},onprogress=function(t){deferred&&deferred.progress(t,xhr.status,xhr)};if(xhr.onloadend=onloadend,xhr.onabort=onabort,xhr.ontimeout=ontimeout,xhr.onprogress=onprogress,xhr.open(type,url,async,user,password),headers)for(var key in headers){var value=headers[key];"content-type"===key.toLowerCase()?contentType=headers[hdr]:xhr.setRequestHeader(key,value)}return contentType&&!1!==contentType&&xhr.setRequestHeader("Content-Type",contentType),headers&&"X-Requested-With"in headers||xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),basicAuthorizationToken&&xhr.setRequestHeader("Authorization",basicAuthorizationToken),xhr.send(options.data?options.data:null),deferred.promise},abort:function(){var t=this._,e=t.xhr;e&&e.abort()},request:function(t){return this._request(t)},get:function(t){return(t=t||{}).type="GET",this._request(t)},post:function(t){return(t=t||{}).type="POST",this._request(t)},patch:function(t){return(t=t||{}).type="PATCH",this._request(t)},put:function(t){return(t=t||{}).type="PUT",this._request(t)},del:function(t){return(t=t||{}).type="DELETE",this._request(t)},init:function(t){this._={options:t||{}}}});return["request","get","post","put","del","patch"].forEach(function(t){Xhr[t]=function(e,n){var i=new Xhr({url:e});return i[t](n)}}),Xhr.defaultOptions=XhrDefaultOptions,Xhr.param=param,Xhr}();return Xhr}),define("skylark-langx/Restful",["./Evented","./objects","./strings","./Xhr"],function(t,e,n,i){var r=e.mixin,o=n.substitute,s=t.inherit({klassName:"Restful",idAttribute:"id",getBaseUrl:function(t){var e=o(this.baseEndpoint,t),n=this.server+this.basePath+e;return void 0!==t[this.idAttribute]&&(n=n+"/"+t[this.idAttribute]),n},_head:function(t){},_get:function(t){return i.get(this.getBaseUrl(t),t)},_post:function(t,e){var n=this.getBaseUrl(t);return e&&(n=n+"/"+e),i.post(n,t)},_put:function(t,e){var n=this.getBaseUrl(t);return e&&(n=n+"/"+e),i.put(n,t)},_delete:function(t){var e=this.getBaseUrl(t);return i.del(e)},_patch:function(t){var e=this.getBaseUrl(t);return i.patch(e,t)},query:function(t){return this._post(t)},retrieve:function(t){return this._get(t)},create:function(t){return this._post(t)},update:function(t){return this._put(t)},delete:function(t){return this._delete(t)},patch:function(t){return this._patch(t)},init:function(t){r(this,t)}});return s}),define("skylark-langx/Stateful",["./Evented"],function(t){var e=t.inherit({init:function(t,e){var n=t||{};e||(e={}),this.cid=uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{});var i=result(this,"defaults");n=mixin({},i,n),this.set(n,e),this.changed={}},changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",toJSON:function(t){return clone(this.attributes)},get:function(t){return this.attributes[t]},has:function(t){return null!=this.get(t)},set:function(t,e,n){if(null==t)return this;var i;if("object"==typeof t?(i=t,n=e):(i={})[t]=e,n||(n={}),!this._validate(i,n))return!1;var r=n.unset,o=n.silent,s=[],a=this._changing;this._changing=!0,a||(this._previousAttributes=clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,u=this._previousAttributes;for(var h in i)e=i[h],isEqual(l[h],e)||s.push(h),isEqual(u[h],e)?delete c[h]:c[h]=e,r?delete l[h]:l[h]=e;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!o){s.length&&(this._pending=n);for(var f=0;f<s.length;f++)this.trigger("change:"+s[f],this,l[s[f]],n)}if(a)return this;if(!o)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,mixin({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,mixin({},t,{unset:!0}))},hasChanged:function(t){return null==t?!isEmptyObject(this.changed):void 0!==this.changed[t]},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,n={};for(var i in t){var r=t[i];isEqual(e[i],r)||(n[i]=r)}return!isEmptyObject(n)&&n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return clone(this._previousAttributes)},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},mixin({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=mixin({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,mixin(e,{validationError:n})),!1)}});return e}),define("skylark-langx/langx",["./skylark","./arrays","./ArrayStore","./aspect","./async","./Deferred","./Evented","./funcs","./klass","./objects","./Restful","./Stateful","./strings","./types","./Xhr"],function(t,e,n,i,r,o,s,a,l,c,u,h,f,d,p){"use strict";Array.prototype.concat,Array.prototype.indexOf,Array.prototype.slice,Array.prototype.filter;var m=c.mixin,g=c.safeMixin,v=d.isFunction;var y=1;var _=0;function b(){return b}return m(b,{createEvent:function(t,e){var n=new CustomEvent(t,e);return g(n,e)},funcArg:function(t,e,n,i){return v(e)?e.call(t,n,i):e},getQueryParams:function(t){var e=(t=t||window.location.href).split("?"),n={};e.length>1&&e[1].split("&").forEach(function(t){var e=t.split("=");n[e[0]]=e[1]});return n},toPixel:function(t){return parseFloat(t)||0},uid:function(t){return t._uid||(t._uid=y++)},uniqueId:function(t){var e=++_+"";return t?t+e:e},URL:"undefined"!=typeof window?window.URL||window.webkitURL:null}),m(b,e,i,a,c,f,d,{ArrayStore:n,async:r,Deferred:o,Evented:s,klass:l,Restful:u,Stateful:h,Xhr:p}),t.langx=b}),define("skylark-utils-dom/langx",["skylark-langx/langx"],function(t){return t}),define("skylark-utils-dom/browser",["./dom","./langx"],function(t,e){"use strict";var n,i,r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},o=null,s="",a="",l={},c={},u=/^(Webkit|webkit|O|Moz|moz|ms)(.*)$/,h=window.document,f=h.createElement("div"),d=f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.matchesSelector,p=f.requestFullscreen||f.webkitRequestFullscreen||f.mozRequestFullScreen||f.msRequestFullscreen,m=(h.exitFullscreen||h.webkitCancelFullScreen||h.mozCancelFullScreen||h.msExitFullscreen,f.style);for(var g in m){var v=g.match(i||u);if(v){i||(n=v[1],i=new RegExp("^("+n+")(.*)$"),n,s="-"+n.toLowerCase()+"-",a=n.toLowerCase()),l[e.lowerFirst(v[2])]=g;var y=e.dasherize(v[2]);c[y]=s+y,r[g]&&(o=r[g])}}function _(){return _}return o||void 0!==m.transition&&(o=r.transition),e.mixin(_,{css3PropPrefix:s,isIE:!!/msie/i.exec(window.navigator.userAgent),normalizeStyleProperty:function(t){return l[t]||t},normalizeCssProperty:function(t){return c[t]||t},normalizeCssEvent:function(t){return a?a+t:t.toLowerCase()},matchesSelector:d,requestFullScreen:p,exitFullscreen:p,location:function(){return window.location},support:{}}),o&&(_.support.transition={end:o}),f=null,t.browser=_}),define("skylark-utils-dom/styler",["./dom","./langx"],function(t,e){Array.prototype.every;var n=Array.prototype.forEach,i=e.camelCase,r=e.dasherize;function o(t,e){return"number"!=typeof e||s[r(t)]?e:e+"px"}var s={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},a={};function l(t){return t in a?a[t]:a[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function c(t,e){var n=t.className||"",i=n&&void 0!==n.baseVal;if(void 0===e)return i?n.baseVal:n;i?n.baseVal=e:t.className=e}var u={};var h=function(){return h};return e.mixin(h,{autocssfix:!1,cssHooks:{},addClass:function(t,n){if(!n)return this;var i,r=c(t);i=e.isString(n)?n.split(/\s+/g):n;return i.forEach(function(t){var e=l(t);r.match(e)||(r+=(r?" ":"")+t)}),c(t,r),this},className:c,css:function(t,s,a){if(arguments.length<3){var l=getComputedStyle(t,"");if(e.isString(s))return t.style[i(s)]||l.getPropertyValue(r(s));if(e.isArrayLike(s)){var c={};return n.call(s,function(e){c[e]=t.style[i(e)]||l.getPropertyValue(r(e))}),c}}var u="";if("string"==typeof s)a||0===a?u=r(s)+":"+o(s,a):t.style.removeProperty(r(s));else for(key in s)void 0!==s[key]&&(s[key]||0===s[key]?u+=r(key)+":"+o(key,s[key])+";":t.style.removeProperty(r(key)));return t.style.cssText+=";"+u,this},disabled:function(t,e){if(arguments.length<2)return!!this.dom.disabled;return t.disabled=e,this},hasClass:function(t,e){var n=l(e);return t.className&&t.className.match(n)},hide:function(t){return h.css(t,"display","none"),this},isInvisible:function(t){return"none"==h.css(t,"display")||0==h.css(t,"opacity")},removeClass:function(t,n){if(n){var i=c(t);(e.isString(n)?n.split(/\s+/g):n).forEach(function(t){var e=l(t);i.match(e)&&(i=i.replace(e," "))}),c(t,i.trim())}else c(t,"");return this},show:function(t){h.css(t,"display",""),"none"==h.css(t,"display")&&h.css(t,"display",function(t){var e,n;u[t]||(e=document.createElement(t),document.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),u[t]=n);return u[t]}(t.nodeName));return this},toggleClass:function(t,e,n){var i=this;return e.split(/\s+/g).forEach(function(e){void 0===n&&(n=!i.hasClass(t,e)),n?i.addClass(t,e):i.removeClass(t,e)}),i}}),t.styler=h}),define("skylark-utils-dom/noder",["./dom","./langx","./browser","./styler"],function(t,e,n,i){var r=!!navigator.userAgent.match(/Trident/g)||!!navigator.userAgent.match(/MSIE/g),o=/^\s*<(\w+|!)[^>]*>/,s=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,a=document.createElement("div"),l=document.createElement("table"),c=document.createElement("tbody"),u=document.createElement("tr"),h={tr:c,tbody:l,thead:l,tfoot:l,td:u,th:u,"*":a},f=/^(?:body|html)$/i,d=Array.prototype.map,p=Array.prototype.slice;function m(t,n){return e.isArrayLike(t)||(t=[t]),n&&(t=d.call(t,function(t){return t.cloneNode(!0)})),e.flatten(t)}function g(t,e,n){for(var i=t,r=m(e,n),o=0;o<r.length;o++)i.appendChild(r[o]);return this}function v(t,e,n){var i=document.createElement(t);if(e)for(var r in e)i.setAttribute(r,e[r]);return n&&g(n,i),i}var y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi;function _(t,e,n){if(n)return t.parentNode===e;if(document.documentElement.contains)return e.contains(t);for(;t;){if(e===t)return!0;t=t.parentNode}return!1}function b(t){return t?9==t.nodeType?t:t.ownerDocument:document}function E(){return E}return e.mixin(E,{active:function(t){var e;t=t||document;try{e=t.activeElement}catch(n){e=t.body}e||(e=t.body);e.nodeName||(e=t.body);return e},blur:function(t){t.blur()},body:function(){return document.body},clone:function(t,e){var n,i=this;if(!r||1!==t.nodeType||e)return t.cloneNode(e);if(!e)return n=document.createElement(t.nodeName),each(i.getAttribs(t),function(e){i.setAttrib(n,e.nodeName,i.getAttrib(t,e.nodeName))}),n},contents:function(t){if(function(t,e){var n=t.nodeName&&t.nodeName.toLowerCase();if(void 0!==e)return n===e.toLowerCase();return n}(t,"iframe"))return t.contentDocument;return t.childNodes},createElement:v,createFragment:function(n){if(n=e.trim(n),s.test(n))return[v(RegExp.$1)];var i=o.test(n)&&RegExp.$1;i in h||(i="*");var r=h[i];return r.innerHTML=""+n,(t=p.call(r.childNodes)).forEach(function(t){r.removeChild(t)}),t},contains:function(t,e){return _(e,t)},createTextNode:function(t){return document.createTextNode(t)},doc:function(){return document},empty:function(t){for(;t.hasChildNodes();){var e=t.firstChild;t.removeChild(e)}return this},fullScreen:function(t){if(!1===t)n.exitFullScreen.apply(document);else{if(!t)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;n.requestFullScreen.apply(t),t}},focusable:function(t,e){var n,i,r,o,s,a=t.nodeName.toLowerCase();if("area"===a)return n=t.parentNode,i=n.name,!(!t.href||!i||"map"!==n.nodeName.toLowerCase())&&((r=$("img[usemap='#"+i+"']")).length>0&&r.is(":visible"));/^(input|select|textarea|button|object)$/.test(a)?(o=!t.disabled)&&(s=$(t).closest("fieldset")[0])&&(o=!s.disabled):o="a"===a&&t.href||e;return o&&$(t).is(":visible")&&visible($(t))},html:function(t,n){if(void 0===n)return t.innerHTML;if(this.empty(t),n=n||"",e.isString(n)&&(n=n.replace(y,"<$1></$2>")),e.isString(n)||e.isNumber(n))t.innerHTML=n;else if(e.isArrayLike(n))for(var i=0;i<n.length;i++)t.appendChild(n[i]);else t.appendChild(n)},isChildOf:_,isDoc:function(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE},isWindow:e.isWindow,offsetParent:function(t){var e=t.offsetParent||document.body;for(;e&&!f.test(e.nodeName)&&"static"==i.css(e,"position");)e=e.offsetParent;return e},ownerDoc:b,ownerWindow:function(t){var e=b(t);return e.defaultView||e.parentWindow},after:function(t,e,n){var i=(o=t).parentNode;if(i)for(var r=m(e,n),o=o.nextSibling,s=0;s<r.length;s++)o?i.insertBefore(r[s],o):i.appendChild(r[s]);return this},before:function(t,e,n){var i=t,r=i.parentNode;if(r)for(var o=m(e,n),s=0;s<o.length;s++)r.insertBefore(o[s],i);return this},prepend:function(t,e,n){for(var i=t,r=i.firstChild,o=m(e,n),s=0;s<o.length;s++)r?i.insertBefore(o[s],r):i.appendChild(o[s]);return this},append:g,remove:function(t){if(t&&t.parentNode)try{t.parentNode.removeChild(t)}catch(t){console.warn("The node is already removed",t)}return this},removeChild:function(t,n){e.isArrayLike(n)||(n=[n]);for(var i=0;i<n.length;i++)t.removeChild(n[i]);return this},replace:function(t,e){return e.parentNode.replaceChild(t,e),this},throb:function(t,e){var n,r=this,o=(e=e||{}).text,s=e.style,a=e.time,l=e.callback,c=this.createElement("div",{className:e.className||"throbber",style:s}),u=(function(t,e){var n=v("div",e);i.css(n,{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:2147483647,opacity:.7}),t.appendChild(n)}(c,{className:"overlay fade"}),this.createElement("div",{className:"throb"})),h=this.createTextNode(o||""),f=function(){n&&(clearTimeout(n),n=null),c&&(r.remove(c),c=null)};u.appendChild(h),c.appendChild(u),t.appendChild(c),a&&(n=setTimeout(function(){f(),l&&l()},a));return{remove:f,update:function(t){t&&t.text&&c&&(h.nodeValue=t.text)}}},traverse:function t(e,n){n(e);for(var i=0,r=e.childNodes.length;i<r;i++)t(e.childNodes[i],n);return this},reverse:function(t){for(var e=t.firstChild,n=t.children.length-1;n>0;n--)if(n>0){var i=t.children[n];t.insertBefore(i,e)}},wrapper:function(t,n){e.isString(n)&&(n=this.createFragment(n).firstChild);t.parentNode.insertBefore(n,t),n.appendChild(t)},wrapperInner:function(t,e){var n=p.call(t.childNodes);t.appendChild(e);for(var i=0;i<n.length;i++)e.appendChild(n[i]);return this},unwrap:function(t){var e=t.parentNode;if(e){if(this.isDoc(e.parentNode))return;e.parentNode.insertBefore(t,e)}}}),t.noder=E}),define("skylark-utils-dom/finder",["./dom","./langx","./browser","./noder"],function(t,e,n,r,o){var s={},a=Array.prototype.filter,l=Array.prototype.slice,c=n.matchesSelector;(function(){var t,e,n,i,r,o={},s={},a=/\\/g,l=function(n,r){if(null==n)return null;if(!0===n.Slick)return n;n=(""+n).replace(/^\s+|\s+$/g,"");var a=(i=!!r)?s:o;if(a[n])return a[n];for(t={Slick:!0,expressions:[],raw:n,reverse:function(){return l(this.raw,!0)}},e=-1;n!=(n=n.replace(f,d)););return t.length=t.expressions.length,a[t.raw]=i?u(t):t},c=function(t){return"!"===t?" ":" "===t?"!":/^!/.test(t)?t.replace(/^!/,""):"!"+t},u=function(t){for(var e=t.expressions,n=0;n<e.length;n++){for(var i=e[n],r={parts:[],tag:"*",combinator:c(i[0].combinator)},o=0;o<i.length;o++){var s=i[o];s.reverseCombinator||(s.reverseCombinator=" "),s.combinator=s.reverseCombinator,delete s.reverseCombinator}i.reverse().push(r)}return t},h=(r=/(?=[\-\[\]{}()*+?.\\\^$|,#\s])/g,function(t){return t.replace(r,"\\")}),f=new RegExp("^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:([\"']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:([\"'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)".replace(/<combinator>/,"["+h(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])"));function d(r,o,s,l,u,f,d,p,m,g,v,y,_,b,E,T){if((o||-1===e)&&(t.expressions[++e]=[],n=-1,o))return"";if(s||l||-1===n){s=s||" ";var w=t.expressions[e];i&&w[n]&&(w[n].reverseCombinator=c(s)),w[++n]={combinator:s,tag:"*"}}var S=t.expressions[e][n];if(u)S.tag=u.replace(a,"");else if(f)S.id=f.replace(a,"");else if(d)d=d.replace(a,""),S.classList||(S.classList=[]),S.classes||(S.classes=[]),S.classList.push(d),S.classes.push({value:d,regexp:new RegExp("(^|\\s)"+h(d)+"(\\s|$)")});else if(_)T=(T=T||E)?T.replace(a,""):null,S.pseudos||(S.pseudos=[]),S.pseudos.push({key:_.replace(a,""),value:T,type:1==y.length?"class":"element"});else if(p){var A,C;switch(p=p.replace(a,""),v=(v||"").replace(a,""),m){case"^=":C=new RegExp("^"+h(v));break;case"$=":C=new RegExp(h(v)+"$");break;case"~=":C=new RegExp("(^|\\s)"+h(v)+"(\\s|$)");break;case"|=":C=new RegExp("^"+h(v)+"(-|$)");break;case"=":A=function(t){return v==t};break;case"*=":A=function(t){return t&&t.indexOf(v)>-1};break;case"!=":A=function(t){return v!=t};break;default:A=function(t){return!!t}}""==v&&/^[*$^]=$/.test(m)&&(A=function(){return!1}),A||(A=function(t){return t&&C.test(t)}),S.attributes||(S.attributes=[]),S.attributes.push({key:p,operator:m,value:v,test:A})}return""}var p=this.Slick||{};p.parse=function(t){return l(t)},p.escapeRegExp=h,this.Slick||(this.Slick=p)}).apply(s);var u=/^(?:input|select|textarea|button)$/i,h=/^h\d$/i,l=Array.prototype.slice;s.parseSelector=s.Slick.parse;var f=s.pseudos={button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},checked:function(t){return!!t.checked},contains:function(t,e,n,i){if($(this).text().indexOf(i)>-1)return this},disabled:function(t){return!!t.disabled},enabled:function(t){return!t.disabled},eq:function(t,e,n,i){return e==i},even:function(t,e,n,i){return e%2==0},focus:function(t){return document.activeElement===t&&(t.href||t.type||t.tabindex)},focusable:function(t){return r.focusable(t,null!=t.tabindex)},first:function(t,e){return 0===e},gt:function(t,e,n,i){return e>i},has:function(t,e,n,i){return _(t,i)},header:function(t){return h.test(t.nodeName)},hidden:function(t){return!s.pseudos.visible(t)},input:function(t){return u.test(t.nodeName)},last:function(t,e,n){return e===n.length-1},lt:function(t,e,n,i){return e<i},not:function(t,e,n,i){return!T(t,i)},odd:function(t,e,n,i){return e%2==1},parent:function(t){return!!t.parentNode},selected:function(t){return!!t.selected},tabbable:function(t){var e=t.tabindex,n=null!=e;return(!n||e>=0)&&r.focusable(element,n)},text:function(t){return"text"===t.type},visible:function(t){return t.offsetWidth&&t.offsetWidth}};function d(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function p(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}for(i in["first","eq","last"].forEach(function(t){f[t].isArrayFilter=!0}),f.nth=f.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})f[i]=d(i);for(i in{submit:!0,reset:!0})f[i]=p(i);function m(t,n,i){for(var r=[],o=i&&e.isString(i);(t=t.parentNode)&&9!==t.nodeType;)if(r.push(t),i)if(o){if(T(t,i))break}else if(t==i)break;return n&&(r=s.filter(r,n)),r}function g(t,e){for(var n=t.childNodes,i=[],r=0;r<n.length;r++){var t=n[r];1==t.nodeType&&i.push(t)}return e&&(i=s.filter(i,e)),i}function v(t,e){try{return l.call(t.querySelectorAll(e))}catch(t){}return s.query(t,e)}function y(t,e){try{return t.querySelector(e)}catch(t){}var n=s.query(t,e);return n.length>0?n[0]:null}function _(t,e){return e||(e=t,t=document.body),T(t,e)?t:y(t,e)}function b(t,e,n){for(var i=t.childNodes,r=i[0];r;){if(1==r.nodeType){if(!e||T(r,e))return r;if(n)break}r=r.nextSibling}return null}function E(t,e,n){for(var i=t.childNodes,r=i[i.length-1];r;){if(1==r.nodeType){if(!e||T(r,e))return r;if(n)break}r=r.previousSibling}return null}function T(t,n){if(!n||!t||1!==t.nodeType)return!1;if(e.isString(n)){try{return c.call(t,n.replace(/\[([^=]+)=\s*([^'"\]]+?)\s*\]/g,'[$1="$2"]'))}catch(t){}return s.match(t,n)}return e.isArrayLike(n)?e.inArray(t,n)>-1:e.isPlainObject(n)?s.check(t,n):t===n}function w(t,e,n){for(var i=t.nextSibling;i;){if(1==i.nodeType){if(!e||T(i,e))return i;if(n)break}i=i.nextSibling}return null}function S(t,e){for(var n=t.nextSibling,i=[];n;)1==n.nodeType&&(e&&!T(n,e)||i.push(n)),n=n.nextSibling;return i}function A(t,e){var n=t.parentNode;return!n||e&&!T(n,e)?null:n}function C(t,e,n){for(var i=t.previousSibling;i;){if(1==i.nodeType){if(!e||T(i,e))return i;if(n)break}i=i.previousSibling}return null}function O(t,e){for(var n=t.previousSibling,i=[];n;)1==n.nodeType&&(e&&!T(n,e)||i.push(n)),n=n.previousSibling;return i}function x(t,e){for(var n=t.parentNode.firstChild,i=[];n;)1==n.nodeType&&n!==t&&(e&&!T(n,e)||i.push(n)),n=n.nextSibling;return i}s.divide=function(t){var e,n,i,r,o,s="",a=[];if((n=t.id)&&(s+="#"+n),i=t.classes)for(var l=i.length;l--;)s+="."+i[l].value;if(r=t.attributes)for(var l=0;l<r.length;l++)r[l].operator?s+="["+r[l].key+r[l].operator+JSON.stringify(r[l].value)+"]":s+="["+r[l].key+"]";if(o=t.pseudos)for(l=o.length;l--;)part=o[l],this.pseudos[part.key]?a.push(part):void 0!==part.value&&(s+=":"+part.key+"("+JSON.stringify(part));return(e=t.tag)&&"*"!==e&&(s=e.toUpperCase()+s),s||(s="*"),{nativeSelector:s,customPseudos:a}},s.check=function(t,e,n,i,r){var o,s,a,l,u,h,f,d,p;if(!r){if(o=e.tag){var m=t.nodeName.toUpperCase();if("*"==o){if(m<"@")return!1}else if(m!=(o||"").toUpperCase())return!1}if((s=e.id)&&t.getAttribute("id")!=s)return!1;if(a=e.classes)for(h=a.length;h--;)if(!(d=t.getAttribute("class"))||!a[h].regexp.test(d))return!1;if(l=e.attributes)for(h=l.length;h--;)if((f=l[h]).operator?!f.test(t.getAttribute(f.key)):!t.hasAttribute(f.key))return!1}if(u=e.pseudos)for(h=u.length;h--;)if(f=u[h],p=this.pseudos[f.key]){if((r&&p.isArrayFilter||!r&&!p.isArrayFilter)&&!p(t,n,i,f.value))return!1}else if(!r&&!c.call(t,f.key))return!1;return!0},s.match=function(t,n){var i;if(!(i=e.isString(n)?s.Slick.parse(n):n))return!0;var r,o,a=i.expressions,l=0;for(r=0;o=a[r];r++)if(1==o.length){var c=o[0];if(this.check(t,c))return!0;l++}if(l==i.length)return!1;var u,h=this.query(document,i);for(r=0;u=h[r++];)if(u===t)return!0;return!1},s.filterSingle=function(t,e){var n=a.call(t,function(n,i){return s.check(n,e,i,t,!1)});return n=a.call(n,function(t,i){return s.check(t,e,i,n,!0)})},s.filter=function(t,n){if(!e.isString(n))return s.filterSingle(t,n);var i,r,o=s.Slick.parse(n).expressions,a=[];for(i=0;r=o[i];i++){if(1!=r.length)throw new Error("not supported selector:"+n);var l=r[0],c=s.filterSingle(t,l);a=e.uniq(a.concat(c))}return a},s.combine=function(t,e){var n,i=e.combinator,r=e,o=[];switch(i){case">":o=g(t,r);break;case"+":(n=w(t,r,!0))&&o.push(n);break;case"^":(n=b(t,r,!0))&&o.push(n);break;case"~":o=S(t,r);break;case"++":var c=C(t,r,!0),u=w(t,r,!0);c&&o.push(c),u&&o.push(u);break;case"~~":o=x(t,r);break;case"!":o=m(t,r);break;case"!>":(n=A(t,r))&&o.push(n);break;case"!+":o=C(t,r,!0);break;case"!^":(n=E(t,r,!0))&&o.push(n);break;case"!~":o=O(t,r);break;default:var h=this.divide(e);if(o=l.call(t.querySelectorAll(h.nativeSelector)),h.customPseudos)for(var f=h.customPseudos.length-1;f>=0;f--)o=a.call(o,function(t,e){return s.check(t,{pseudos:[h.customPseudos[f]]},e,o,!1)}),o=a.call(o,function(t,e){return s.check(t,{pseudos:[h.customPseudos[f]]},e,o,!0)})}return o},s.query=function(t,n,i){for(var r,o,a=this.Slick.parse(n),l=[],c=a.expressions,u=0;r=c[u];u++){for(var h,f=[t],d=0;o=r[d];d++)(h=e.map(f,function(t,e){return s.combine(t,o)}))&&(f=h);h&&(l=l.concat(h))}return l};var k=function(){return k};return e.mixin(k,{ancestor:function(t,n,i){var r=i&&e.isString(i);for(;t=t.parentNode;){if(T(t,n))return t;if(i)if(r){if(T(t,i))break}else if(t==i)break}return null},ancestors:m,byId:function(t,e){return(e=e||r.doc()).getElementById(t)},children:g,closest:function(t,e){for(;t&&!T(t,e);)t=t.parentNode;return t},descendant:y,descendants:v,find:_,findAll:function(t,e){e||(e=t,t=document.body);return v(t,e)},firstChild:b,lastChild:E,matches:T,nextSibling:w,nextSiblings:S,parent:A,previousSibling:C,previousSiblings:O,pseudos:s.pseudos,siblings:x}),t.finder=k}),define("skylark-utils-dom/datax",["./dom","./langx","./finder"],function(t,e,n){var i=Array.prototype.map,r=Array.prototype.filter,o=e.camelCase,s=e.deserializeValue,a=/([A-Z])/g,l={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"};function c(t,e,n){if(void 0!==n)return t.setAttribute(e,n),this;if("object"==typeof e){for(var i in e)c(t,i,e[i]);return this}return t.hasAttribute&&t.hasAttribute(e)?t.getAttribute(e):void 0}function u(t,n){var i=t._$_store;return!i&&n&&(i=t._$_store=function(t){var n={};return e.each(t.attributes||[],function(t,e){0==e.name.indexOf("data-")&&(n[o(e.name.replace("data-",""))]=s(e.value))}),n}(t)),i}function h(t,e,n){var i=u(t,!0);i[o(e)]=n}function f(t,e,n){if(void 0===n){if("object"==typeof e){for(var i in e)h(t,i,e[i]);return this}return function(t,e){if(void 0===e)return u(t,!0);var n=u(t);if(n){if(e in n)return n[e];var i=o(e);if(i in n)return n[i]}var r="data-"+e.replace(a,"-$1").toLowerCase();return c(t,r)}(t,e)}return h(t,e,n),this}function d(t,e){return i.call(t,function(t){return t[e]})}function p(){return p}return n.pseudos.data=function(t,e,n,i){return!!f(t,i||n[3])},e.mixin(p,{aria:function(t,e,n){return this.attr(t,"aria-"+e,n)},attr:c,cleanData:function(t){t._$_store&&delete t._$_store},data:f,pluck:d,prop:function(t,e,n){return e=l[e]||e,void 0===n?t[e]:(t[e]=n,this)},removeAttr:function(t,e){return e.split(" ").forEach(function(e){!function(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}(t,e)}),this},removeData:function(t,n){e.isString(n)&&(n=n.split(/\s+/));var i=u(t,!0);return n.forEach(function(t){delete i[t]}),this},removeProp:function(t,e){return e.split(" ").forEach(function(e){delete t[e]}),this},text:function(t,e){return void 0===e?t.textContent:(t.textContent=null==e?"":""+e,this)},val:function(t,e){if(void 0===e){if(t.multiple){var i=r.call(n.find(t,"option"),function(t){return t.selected});return d(i,"value")}return t.value}return t.value=e,this}}),t.datax=p}),define("skylark-utils-dom/eventer",["./dom","./langx","./browser","./finder","./noder","./datax"],function(t,e,n,i,r,o){e.mixin,e.each,Array.prototype.slice;var s=e.uid,a=/^([A-Z]|returnValue$|layer[XY]$)/,l={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},c=/complete|loaded|interactive/;function u(t,n){return!n&&t.isDefaultPrevented||(n||(n=t),e.each(l,function(i,r){var o=n[i];t[i]=function(){return this[r]=e.returnTrue,o&&o.apply(n,arguments)},t[r]=e.returnFalse})),t}function h(t){var e=(""+t).split(".");return{type:e[0],ns:e.slice(1).sort().join(" ")}}var f=function(){var t=[window.CustomEvent,window.CompositionEvent,window.DragEvent,window.Event,window.FocusEvent,window.KeyboardEvent,window.MessageEvent,window.MouseEvent,window.MouseScrollEvent,window.MouseWheelEvent,window.MutationEvent,window.ProgressEvent,window.TextEvent,window.TouchEvent,window.UIEvent,window.WheelEvent,window.ClipboardEvent],n={compositionstart:1,compositionend:1,compositionupdate:1,beforecopy:16,beforecut:16,beforepaste:16,copy:16,cut:16,paste:16,drag:2,dragend:2,dragenter:2,dragexit:2,dragleave:2,dragover:2,dragstart:2,drop:2,abort:3,change:3,error:3,selectionchange:3,submit:3,reset:3,focus:4,blur:4,focusin:4,focusout:4,keydown:5,keypress:5,keyup:5,message:6,click:7,contextmenu:7,dblclick:7,mousedown:7,mouseup:7,mousemove:7,mouseover:7,mouseout:7,mouseenter:7,mouseleave:7,textInput:12,touchstart:13,touchmove:13,touchend:13,load:14,resize:14,select:14,scroll:14,unload:14,wheel:15};return function(i,r){e.isString(i)?r=r||{}:i=(r=i||{}).type||"";var o=h(i);i=o.type,r=e.mixin({bubbles:!0,cancelable:!0},r),o.ns&&(r.namespace=o.ns);var s=function(e){var i=n[e];i||(i=0);return t[i]}(i),a=new s(i,r);return e.safeMixin(a,r),u(a)}}();function d(t,n){var i,r={originalEvent:t};for(i in t)"keyIdentifier"===i||a.test(i)||void 0===t[i]||(r[i]=t[i]);return n&&e.mixin(r,n),u(r,t)}var p={},m="onfocusin"in window,g={focus:"focusin",blur:"focusout"},v={mouseenter:"mouseover",mouseleave:"mouseout"},y=function(t){return v[t]||m&&g[t]||t},_={},b=e.klass({init:function(t,e){this._target=t,this._event=e,this._bindings=[]},add:function(t,n){var o=this._bindings,s={fn:t,options:e.mixin({},n)};o.push(s);var a=this;if(!a._listener){a._listener=function(t){var n=this,o=d(t),s=t._args,l=a._bindings,c=o.namespace;s=e.isDefined(s)?[o].concat(s):[o],e.each(l,function(t,l){var u=n;if(o.isImmediatePropagationStopped&&o.isImmediatePropagationStopped())return!1;var h=l.fn,f=l.options||{},d=f.selector,p=f.one,m=f.data;if(!c||c==f.ns||-1!==f.ns.indexOf(c)){if(d){if(!(u=i.closest(o.target,d))||u===n)return;e.mixin(o,{currentTarget:u,liveFired:n})}var g=a._event;if(g in v){var y=o.relatedTarget;if(y&&(y===u||r.contains(u,y)))return}e.isDefined(m)&&(o.data=m),p&&a.remove(h,f);var _=h.apply(u,s);!1===_&&(o.preventDefault(),o.stopPropagation())}})};var l=a._event;a._target.addEventListener?a._target.addEventListener(y(l),a._listener,!1):console.warn("invalid eventer object",a._target)}},remove:function(t,n){var i,r;(n=e.mixin({},n)).ns&&(r=n.ns,i=new RegExp("(?:^| )"+r.replace(" "," .* ?")+"(?: |$)")),this._bindings=this._bindings.filter(function(e){var r=(!t||t===e.fn)&&(!i||i.test(e.options.ns))&&(!n.selector||n.selector==e.options.selector);return!r}),0==this._bindings.length&&(this._target.removeEventListener&&this._target.removeEventListener(y(this._event),this._listener,!1),this._listener=null)}}),E=e.klass({init:function(t){this._target=t,this._handler={}},register:function(t,n,i){var r=h(t),t=r.type,o=p[t],s=o&&(o.bindType||o.bindEventName),a=this._handler;void 0===a[t]&&(a[t]=new b(this._target,s||t)),a[t].add(n,e.mixin({ns:r.ns},i))},unregister:function(t,n,i){var r=this._handler,o=h(t);if(t=o.type){var s=r[t];s&&s.remove(n,e.mixin({ns:o.ns},i))}else for(t in r){var s=r[t];s.remove(n,e.mixin({ns:o.ns},i))}}}),T=function(t){var e=s(t),n=_[e];return n||(n=_[e]=new E(t)),n};function w(t,n,i,r,o,s){if(e.isPlainObject(n))return e.each(n,function(e,n){w(t,e,i,r,n,s)}),this;e.isString(i)||e.isFunction(o)||(o=r,r=i,i=void 0),e.isFunction(r)&&(o=r,r=void 0),!1===o&&(o=e.returnFalse),"string"==typeof n&&(n=n.indexOf(",")>-1?n.split(","):n.split(/\s/));var a=T(t);return n.forEach(function(t){if("ready"==t)return S(o);a.register(t,o,{data:r,selector:i,one:!!s})}),this}function S(t){return c.test(document.readyState)&&document.body?e.defer(t):document.addEventListener("DOMContentLoaded",t,!1),this}var A={backspace:8,comma:188,delete:46,down:40,end:35,enter:13,escape:27,home:36,left:37,page_down:34,page_up:33,period:190,right:39,space:32,tab:9,up:38};function C(){return C}return n.support.transition&&(p.transitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end}),e.mixin(C,{create:f,keys:A,off:function t(n,i,r,o){if(e.isPlainObject(i))return e.each(i,function(e,i){t(n,e,r,i)}),this;e.isString(r)||e.isFunction(o)||!1===o||(o=r,r=void 0);!1===o&&(o=e.returnFalse);"string"==typeof i&&(i=i.indexOf(",")>-1?i.split(","):i.split(/\s/));var s=T(n);i&&i.forEach(function(t){s.unregister(t,o,{selector:r})});return this},on:w,one:function(t,e,n,i,r){return w(t,e,n,i,r,1),this},proxy:d,ready:S,shortcuts:function(t){var e=o.data(t,"shortcuts");if(!e){e={},o.data(t,"shortcuts",e);var n=function(t,e){var n=e.metaKey||e.ctrlKey;if(t.ctrl==n&&t.alt==e.altKey&&t.shift==e.shiftKey&&(e.keyCode==t.keyCode||e.charCode&&e.charCode==t.charCode))return e.preventDefault(),"keydown"==e.type&&t.fn(e),!0};w(t,"keyup keypress keydown",function(t){if(!/INPUT|TEXTAREA/.test(t.target.nodeName))for(var i in e)n(e[i],t)})}return{add:function(t,n){(t.indexOf(",")>-1?t.toLowerCase().split(","):t.toLowerCase().split(" ")).forEach(function(t){var i={fn:n,alt:!1,ctrl:!1,shift:!1};t.split("+").forEach(function(t){switch(t){case"alt":case"ctrl":case"shift":i[t]=!0;break;default:i.charCode=t.charCodeAt(0),i.keyCode=A[t]||t.toUpperCase().charCodeAt(0)}});var r=(i.ctrl?"ctrl":"")+","+(i.alt?"alt":"")+","+(i.shift?"shift":"")+","+i.keyCode;e[r]=i})}}},special:p,stop:function(t){window.document.all&&(t.keyCode=0);t.preventDefault&&(t.preventDefault(),t.stopPropagation());return this},trigger:function(t,e,n){var i;i=e instanceof Event?e:f(e,n);i._args=n;var r=t.dispatchEvent||t.trigger;r?r.call(t,i):console.warn("The evented parameter is not a eventable object");return this}}),t.eventer=C}),define("skylark-utils-dom/geom",["./dom","./langx","./noder","./styler"],function(t,e,n,i){var r,o=/^(?:body|html)$/i,s=e.toPixel,a=n.offsetParent;function l(){if(void 0!==r)return r;var t,e,o=n.createFragment("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>")[0],s=o.childNodes[0];return n.append(document.body,o),t=s.offsetWidth,i.css(o,"overflow","scroll"),e=s.offsetWidth,t===e&&(e=o[0].clientWidth),n.remove(o),r=t-e}function c(t){if(n.isWindow(t))return{left:0,top:0,right:0,bottom:0};var e=getComputedStyle(t);return{left:s(e.borderLeftWidth,t),top:s(e.borderTopWidth,t),right:s(e.borderRightWidth,t),bottom:s(e.borderBottomWidth,t)}}function u(t,e){if(void 0===e)return o.test(t.nodeName)?{top:0,left:0}:t.getBoundingClientRect();var n=a(t),i=u(n),r=p(t),s=c(n);return y(t,{top:e.top-i.top-r.top-s.top,left:e.left-i.left-r.left-s.left}),this}function h(t,e){return void 0===e?t.getBoundingClientRect():(u(t,e),T(t,e),this)}function f(t,e){if(void 0==e)return{width:t.clientWidth,height:t.clientHeight};var n="border-box"===i.css(t,"box-sizing"),r={width:e.width,height:e.height};if(n){var o=c(t);void 0!==r.width&&(r.width=r.width+o.left+o.right),void 0!==r.height&&(r.height=r.height+o.top+o.bottom)}else{var s=g(t);void 0!==r.width&&(r.width=r.width-s.left-s.right),void 0!==r.height&&(r.height=r.height-s.top-s.bottom)}return i.css(t,r),this}function d(t){var e=t.documentElement,n=t.body,i=Math.max,r=i(e.scrollWidth,n.scrollWidth),o=i(e.clientWidth,n.clientWidth),s=i(e.offsetWidth,n.offsetWidth),a=i(e.scrollHeight,n.scrollHeight),l=i(e.clientHeight,n.clientHeight),c=i(e.offsetHeight,n.offsetHeight);return{width:r<s?o:r,height:a<c?l:a}}function p(t){if(n.isWindow(t))return{left:0,top:0,right:0,bottom:0};var e=getComputedStyle(t);return{left:s(e.marginLeft),top:s(e.marginTop),right:s(e.marginRight),bottom:s(e.marginBottom)}}function m(t){var e=T(t),n=p(t);return{width:e.width+n.left+n.right,height:e.height+n.top+n.bottom}}function g(t){if(n.isWindow(t))return{left:0,top:0,right:0,bottom:0};var e=getComputedStyle(t);return{left:s(e.paddingLeft),top:s(e.paddingTop),right:s(e.paddingRight),bottom:s(e.paddingBottom)}}function v(t,e){if(void 0===e){var n=t.getBoundingClientRect();return{left:n.left+window.pageXOffset,top:n.top+window.pageYOffset}}var i=a(t),r=v(i),o=p(t),s=c(i);return y(t,{top:e.top-r.top-o.top-s.top,left:e.left-r.left-o.left-s.left}),this}function y(t,e){if(void 0==e){var n=a(t),r=u(t),o=u(n),s=(p(t),c(n));return{top:r.top-o.top-s.top,left:r.left-o.left-s.left}}var l={top:e.top,left:e.left};return"static"==i.css(t,"position")&&(l.position="relative"),i.css(t,l),this}function _(t,e){if(void 0===e){var n=a(t),i=h(t),r=u(n),o=(p(t),c(n));return{top:i.top-r.top-o.top,left:i.left-r.left-o.left,width:i.width,height:i.height}}return y(t,e),T(t,e),this}function b(t,e){var n="scrollLeft"in t;return void 0===e?n?t.scrollLeft:t.pageXOffset:(n?t.scrollLeft=e:t.scrollTo(e,t.scrollY),this)}function E(t,e){var n="scrollTop"in t;return void 0===e?n?t.scrollTop:t.pageYOffset:(n?t.scrollTop=e:t.scrollTo(t.scrollX,e),this)}function T(t,n){if(void 0==n)return e.isWindow(t)?{width:t.innerWidth,height:t.innerHeight}:e.isDocument(t)?d(document):{width:t.offsetWidth,height:t.offsetHeight};var r="border-box"===i.css(t,"box-sizing"),o={width:n.width,height:n.height};if(!r){var s=g(t),a=c(t);void 0!==o.width&&""!==o.width&&null!==o.width&&(o.width=o.width-s.left-s.right-a.left-a.right),void 0!==o.height&&""!==o.height&&null!==o.height&&(o.height=o.height-s.top-s.bottom-a.top-a.bottom)}return i.css(t,o),this}function w(){return w}return e.mixin(w,{borderExtents:c,boundingPosition:u,boundingRect:h,clientHeight:function(t,e){return void 0==e?f(t).height:f(t,{height:e})},clientSize:f,clientWidth:function(t,e){return void 0==e?f(t).width:(f(t,{width:e}),this)},contentRect:function(t){var e=f(t),n=g(t);return{left:n.left,top:n.top,width:e.width-n.left-n.right,height:e.height-n.top-n.bottom}},getDocumentSize:d,height:function(t,e){return void 0==e?T(t).height:(T(t,{height:e}),this)},marginExtents:p,marginRect:function(t){var e=_(t),n=p(t);return{left:e.left,top:e.top,width:e.width+n.left+n.right,height:e.height+n.top+n.bottom}},marginSize:m,offsetParent:a,paddingExtents:g,pagePosition:v,pageRect:function(t,e){if(void 0===e){var n=t.getBoundingClientRect();return{left:n.left+window.pageXOffset,top:n.top+window.pageYOffset,width:Math.round(n.width),height:Math.round(n.height)}}return v(t,e),T(t,e),this},relativePosition:y,relativeRect:_,scrollbarWidth:l,scrollIntoView:function(t,e){var n,i,r,o,s,a,l=t.parentNode,c=function(t,e){var n,i,r=t;n=i=0;for(;r&&r!=e&&r.nodeType;)n+=r.offsetLeft||0,i+=r.offsetTop||0,r=r.offsetParent;return{x:n,y:i}}(t,l);n=c.x,i=c.y,r=t.offsetWidth,o=t.offsetHeight,s=l.clientWidth,a=l.clientHeight,"end"==e?(n-=s-r,i-=a-o):"center"==e&&(n-=s/2-r/2,i-=a/2-o/2);return l.scrollLeft=n,l.scrollTop=i,this},scrollLeft:b,scrollTop:E,size:T,width:function(t,e){return void 0==e?T(t).width:(T(t,{width:e}),this)}}),function(){var t=Math.max,r=Math.abs,o=/left|center|right/,s=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/;function h(t,e,n){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?n/100:1)]}function f(t,e){return parseInt(i.css(t,e),10)||0}var d={fit:{left:function(e,n){var i,r=n.within,o=r.isWindow?r.scrollLeft:r.offset.left,s=r.width,a=e.left-n.collisionPosition.marginLeft,l=o-a,c=a+n.collisionWidth-s-o;n.collisionWidth>s?l>0&&c<=0?(i=e.left+l+n.collisionWidth-s-o,e.left+=l-i):e.left=c>0&&l<=0?o:l>c?o+s-n.collisionWidth:o:l>0?e.left+=l:c>0?e.left-=c:e.left=t(e.left-a,e.left)},top:function(e,n){var i,r=n.within,o=r.isWindow?r.scrollTop:r.offset.top,s=n.within.height,a=e.top-n.collisionPosition.marginTop,l=o-a,c=a+n.collisionHeight-s-o;n.collisionHeight>s?l>0&&c<=0?(i=e.top+l+n.collisionHeight-s-o,e.top+=l-i):e.top=c>0&&l<=0?o:l>c?o+s-n.collisionHeight:o:l>0?e.top+=l:c>0?e.top-=c:e.top=t(e.top-a,e.top)}},flip:{left:function(t,e){var n,i,o=e.within,s=o.offset.left+o.scrollLeft,a=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=t.left-e.collisionPosition.marginLeft,u=c-l,h=c+e.collisionWidth-a-l,f="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];u<0?((n=t.left+f+d+p+e.collisionWidth-a-s)<0||n<r(u))&&(t.left+=f+d+p):h>0&&((i=t.left-e.collisionPosition.marginLeft+f+d+p-l)>0||r(i)<h)&&(t.left+=f+d+p)},top:function(t,e){var n,i,o=e.within,s=o.offset.top+o.scrollTop,a=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=t.top-e.collisionPosition.marginTop,u=c-l,h=c+e.collisionHeight-a-l,f="top"===e.my[1],d=f?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];u<0?((i=t.top+d+p+m+e.collisionHeight-a-s)<0||i<r(u))&&(t.top+=d+p+m):h>0&&((n=t.top-e.collisionPosition.marginTop+d+p+m-l)>0||r(n)<h)&&(t.top+=d+p+m)}},flipfit:{left:function(){d.flip.left.apply(this,arguments),d.fit.left.apply(this,arguments)},top:function(){d.flip.top.apply(this,arguments),d.fit.top.apply(this,arguments)}}};w.posit=function(u,p){var g,y,_,w,S,A,C=(p=e.extend({},p)).of,O=(I=p.within,N=I||window,L=n.isWindow(N),P=!!N&&9===N.nodeType,R=!L&&!P,H=m(N),{element:N,isWindow:L,isDocument:P,offset:R?v(I):{left:0,top:0},scrollLeft:b(N),scrollTop:E(N),width:H.width,height:H.height}),x=function(t){var e=t.isWindow||t.isDocument?"":i.css(t.element,"overflow-x"),n=t.isWindow||t.isDocument?"":i.css(t.element,"overflow-y"),r="scroll"===e||"auto"===e&&t.width<scrollWidth(t.element);return{width:"scroll"===n||"auto"===n&&t.height<scrollHeight(t.element)?l():0,height:r?l():0}}(O),k=(p.collision||"flip").split(" "),D={};var I,N,L,P,R,H;W=C,A=9===W.nodeType?{size:T(W),offset:{top:0,left:0}}:n.isWindow(W)?{size:T(W),offset:{top:E(W),left:b(W)}}:W.preventDefault?{size:{width:0,height:0},offset:{top:W.pageY,left:W.pageX}}:{size:T(W),offset:v(W)},C.preventDefault&&(p.at="left top");var W;y=A.size.width,_=A.size.height,w=A.offset,S=e.extend({},w),e.each(["my","at"],function(){var t,e,n=(p[this]||"").split(" ");1===n.length&&(n=o.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]),n[0]=o.test(n[0])?n[0]:"center",n[1]=s.test(n[1])?n[1]:"center",t=a.exec(n[0]),e=a.exec(n[1]),D[this]=[t?t[0]:0,e?e[0]:0],p[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),1===k.length&&(k[1]=k[0]);"right"===p.at[0]?S.left+=y:"center"===p.at[0]&&(S.left+=y/2);"bottom"===p.at[1]?S.top+=_:"center"===p.at[1]&&(S.top+=_/2);return g=h(D.at,y,_),S.left+=g[0],S.top+=g[1],function(n){var i,o,s=m(n),a=s.width,l=s.height,c=f(n,"marginLeft"),u=f(n,"marginTop"),b=a+c+f(n,"marginRight")+x.width,E=l+u+f(n,"marginBottom")+x.height,T=e.extend({},S),A=h(D.my,s.width,s.height);"right"===p.my[0]?T.left-=a:"center"===p.my[0]&&(T.left-=a/2),"bottom"===p.my[1]?T.top-=l:"center"===p.my[1]&&(T.top-=l/2),T.left+=A[0],T.top+=A[1],i={marginLeft:c,marginTop:u},e.each(["left","top"],function(t,e){d[k[t]]&&d[k[t]][e](T,{targetWidth:y,targetHeight:_,elemWidth:a,elemHeight:l,collisionPosition:i,collisionWidth:b,collisionHeight:E,offset:[g[0]+A[0],g[1]+A[1]],my:p.my,at:p.at,within:O,elem:n})}),p.using&&(o=function(e){var i=w.left-T.left,o=i+y-a,s=w.top-T.top,c=s+_-l,u={target:{element:C,left:w.left,top:w.top,width:y,height:_},element:{element:n,left:T.left,top:T.top,width:a,height:l},horizontal:o<0?"left":i>0?"right":"center",vertical:c<0?"top":s>0?"bottom":"middle"};y<a&&r(i+o)<y&&(u.horizontal="center"),_<l&&r(s+c)<_&&(u.vertical="middle"),t(r(i),r(o))>t(r(s),r(c))?u.important="horizontal":u.important="vertical",p.using.call(this,e,u)}),v(n,e.extend(T,{using:o}))}(u)}}(),t.geom=w}),define("skylark-utils-dom/fx",["./dom","./langx","./browser","./geom","./styler","./eventer"],function(t,e,n,i,r,o){var s,a,l,c,u,h,f,d=n.normalizeCssEvent("AnimationEnd"),p=n.normalizeCssEvent("TransitionEnd"),m=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,g=n.css3PropPrefix+"transform",v={};function y(t,n,y,_,b,T){var w,S,A,C={},x=[],k="",D=this,I=!1,N=!1;if(e.isPlainObject(y)&&(_=y.easing,b=y.complete,T=y.delay,y=y.duration),e.isString(y)&&(y=O.speeds[y]),void 0===y&&(y=O.speeds.normal),y/=1e3,O.off&&(y=0),e.isFunction(_)?(b=_,eace="swing"):_=_||"swing",T?T/=1e3:T=0,e.isString(n))C[s]=n,C[a]=y+"s",C[l]=_,S=d;else{for(w in n){var L=n[w];if(m.test(w))k+=w+"("+L+") ";else{if("scrollTop"===w&&(N=!0),"clip"==w&&e.isPlainObject(L)){if(C[w]="rect("+L.top+"px,"+L.right+"px,"+L.bottom+"px,"+L.left+"px)","auto"==r.css(t,"clip")){var P=i.size(t);r.css(t,"clip","rect(0px,"+P.width+"px,"+P.height+"px,0px)"),!0}}else C[w]=L;x.push(e.dasherize(w))}}S=p}return k&&(C[g]=k,x.push(g)),y>0&&e.isPlainObject(n)&&(C[c]=x.join(", "),C[u]=y+"s",C[f]=T+"s",C[h]=_),A=function(e){if(I=!0,e){if(e.target!==e.currentTarget)return;o.off(e.target,S,A)}else o.off(t,d,A);r.css(t,v),b&&b.call(this)},y>0&&(o.on(t,S,A),e.debounce(function(){I||A.call(D)},1e3*(y+T)+25)()),t.clientLeft,r.css(t,C),y<=0&&e.debounce(function(){I||A.call(D)},0)(),N&&E(t,n.scrollTop,y,b),this}function _(t,n,i){return r.show(t),n&&(!i&&e.isFunction(n)&&(i=n,n="normal"),r.css(t,"opacity",0),y(t,{opacity:1,scale:"1,1"},n,i)),this}function b(t,n,i){return n?(!i&&e.isFunction(n)&&(i=n,n="normal"),y(t,{opacity:0,scale:"0,0"},n,function(){r.hide(t),i&&i.call(t)})):r.hide(t),this}function E(t,n,i,r){var o=parseInt(t.scrollTop),s=0,a=1e3*i/5,l=parseInt(n),c=setInterval(function(){++s<=a&&(t.scrollTop=(l-o)/a*s+o),s>=a+1&&(clearInterval(c),r&&e.debounce(r,1e3)())},5)}function T(t,e,n,i,r){return y(t,{opacity:n},e,i,r),this}function w(t,e,n,i){var o=r.css(t,"opacity");return o>0?r.css(t,"opacity",0):o=1,r.show(t),T(t,e,o,n,i),this}function S(t,n,i,o){var s,a=r.css(t,"opacity"),l={};return e.isPlainObject(n)?(l.easing=n.easing,l.duration=n.duration,s=n.complete):(l.duration=n,o?(s=o,l.easing=i):s=i),l.complete=function(){r.css(t,"opacity",a),r.hide(t),s&&s.call(t)},T(t,l,0),this}function A(t,e,n){var i=r.css(t,"position");_(t),r.css(t,{position:"absolute",visibility:"hidden"});var o=r.css(t,"margin-top"),s=r.css(t,"margin-bottom"),a=r.css(t,"padding-top"),l=r.css(t,"padding-bottom"),c=r.css(t,"height");return r.css(t,{position:i,visibility:"visible",overflow:"hidden",height:0,marginTop:0,marginBottom:0,paddingTop:0,paddingBottom:0}),y(t,{height:c,marginTop:o,marginBottom:s,paddingTop:a,paddingBottom:l},{duration:e,complete:function(){n&&n.apply(t)}}),this}function C(t,e,n){if(i.height(t)>0){r.css(t,"position");var o=r.css(t,"height"),s=r.css(t,"margin-top"),a=r.css(t,"margin-bottom"),l=r.css(t,"padding-top"),c=r.css(t,"padding-bottom");r.css(t,{visibility:"visible",overflow:"hidden",height:o,marginTop:s,marginBottom:a,paddingTop:l,paddingBottom:c}),y(t,{height:0,marginTop:0,marginBottom:0,paddingTop:0,paddingBottom:0},{duration:e,queue:!1,complete:function(){b(t),r.css(t,{visibility:"visible",overflow:"hidden",height:o,marginTop:s,marginBottom:a,paddingTop:l,paddingBottom:c}),n&&n.apply(t)}})}return this}function O(){return O}return v[s=n.normalizeCssProperty("animation-name")]=v[a=n.normalizeCssProperty("animation-duration")]=v[n.normalizeCssProperty("animation-delay")]=v[l=n.normalizeCssProperty("animation-timing-function")]="",v[c=n.normalizeCssProperty("transition-property")]=v[u=n.normalizeCssProperty("transition-duration")]=v[f=n.normalizeCssProperty("transition-delay")]=v[h=n.normalizeCssProperty("transition-timing-function")]="",e.mixin(O,{off:!1,speeds:{normal:400,fast:200,slow:600},animate:y,emulateTransitionEnd:function(t,e){var n=!1;o.one(t,"transitionEnd",function(){n=!0});return setTimeout(function(){n||o.trigger(t,"transitionEnd")},e),this},fadeIn:w,fadeOut:S,fadeTo:T,fadeToggle:function(t,e,n,i){r.isInvisible(t)?w(t,e,easing,callback):S(t,e,easing,callback);return this},hide:b,scrollToTop:E,slideDown:A,slideToggle:function(t,e,n){0==i.height(t)?A(t,e,n):C(t,e,n);return this},slideUp:C,show:_,toggle:function(t,e,n){r.isInvisible(t)?_(t,e,n):b(t,e,n);return this}}),t.fx=O}),define("skylark-utils-dom/query",["./dom","./langx","./noder","./datax","./eventer","./finder","./geom","./styler","./fx"],function(t,e,n,i,r,o,s,a,l){var c,u=Array.prototype.some,h=Array.prototype.push,f=(Array.prototype.every,Array.prototype.concat,Array.prototype.slice),d=(Array.prototype.map,Array.prototype.filter),p=Array.prototype.forEach,m=Array.prototype.indexOf,g=Array.prototype.sort,v=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,y=e.funcArg,_=e.isArrayLike,b=e.isString,E=e.uniq,T=e.isFunction,w=e.type,S=e.isArray,A=(e.isWindow,e.isDocument,e.isObject);e.isPlainObject,e.compact,e.flatten,e.camelCase,e.dasherize,o.children;function C(t,n){return function(){var i=f.call(arguments),r=e.map(this,function(e,r){return t.apply(n,[e].concat(i))});return P(E(r))}}function O(t,e,n){return function(i){f.call(arguments);var r=this.map(function(r,o){if(o.querySelector)return t.apply(e,n?[o]:[o,i])});return n&&i?r.filter(i):r}}function x(t,e){return function(){var n=f.call(arguments);return this.each(function(i){t.apply(e,[this].concat(n))}),this}}function k(t,e,n){return function(i){var r=f.call(arguments);return p.call(this,function(o,s){y(o,i,s,n(o));t.apply(e,[o,i].concat(r.slice(1)))}),this}}function D(t,n,i){return function(r,o){var s=f.call(arguments);return e.isPlainObject(r)||e.isDefined(o)?(p.call(this,function(e,a){i&&y(e,o,a,i(e,r)),t.apply(n,[e].concat(s))}),this):this[0]?t.apply(n,[this[0],r]):void 0}}function I(t,n,i){return function(r){return e.isDefined(r)?(p.call(this,function(e,o){var s;s=i?y(e,r,o,i(e)):r,t.apply(n,[e,s])}),this):this[0]?t.apply(n,[this[0]]):void 0}}var N,L=e.klass({klassName:"SkNodeList",init:function(t,i){var r,s,a,l;if(t&&(this.context=i=i||n.doc(),b(t)?(this.selector=t,(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:v.exec(t))?r[1]?(s=n.createFragment(t),e.isPlainObject(i)&&(l=i)):(a=o.byId(r[2],n.ownerDoc(i)))&&(s=[a]):(e.isString(i)&&(i=o.find(i)),s=o.descendants(i,t))):s=S(t)?t:[t]),s&&(h.apply(this,s),l))for(var c in l)e.isFunction(this[c])?this[c](l[c]):this.attr(c,l[c]);return this}}),P=function(){c=function(t){return t instanceof L},init=function(t,e){return new L(t,e)};var t,v,y,S=function(t,e){if(!T(t))return c(t)?t:e&&c(e)&&b(t)?e.find(t):init(t,e);r.ready(function(){t(S)})};S.fn=L.prototype,e.mixin(S.fn,{length:0,map:function(t){return S(E(e.map(this,function(e,n){return t.call(e,n,e)})))},slice:function(){return S(f.apply(this,arguments))},forEach:function(){return p.apply(this,arguments)},get:function(t){return void 0===t?f.call(this):this[t>=0?t:t+this.length]},indexOf:function(){return m.apply(this,arguments)},sort:function(){return g.apply(this,arguments)},toArray:function(){return f.call(this)},size:function(){return this.length},remove:x(n.remove,n),each:function(t){return e.each(this,t),this},filter:function(t){return T(t)?this.not(this.not(t)):S(d.call(this,function(e){return o.matches(e,t)}))},add:function(t,e){return S(E(this.toArray().concat(S(t,e).toArray())))},is:function(t){if(this.length>0){if(e.isString(t))return u.call(this,function(e){return o.matches(e,t)});if(e.isArrayLike(t))return u.call(this,function(n){return e.inArray(n,t)>-1});if(e.isHtmlNode(t))return u.call(this,function(e){return e==t})}return!1},not:function(t){var e=[];if(T(t)&&void 0!==t.call)this.each(function(n){t.call(this,n)||e.push(this)});else{var n="string"==typeof t?this.filter(t):_(t)&&T(t.item)?f.call(t):S(t);this.forEach(function(t){n.indexOf(t)<0&&e.push(t)})}return S(e)},has:function(t){return this.filter(function(){return A(t)?n.contains(this,t):S(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:O(o.descendants,o),closest:O(o.closest,o),parents:O(o.ancestors,o),parentsUntil:(t=o.ancestors,v=o,function(e,n){f.call(arguments),void 0===n&&(n=e,e=void 0);var i=this.map(function(i,r){if(r.querySelector)return t.apply(v,y?[r,e]:[r,n,e])});return y&&n?i.filter(n):i}),parent:O(o.parent,o),children:O(o.children,o),contents:C(n.contents,n),empty:x(n.empty,n),pluck:function(t){return e.map(this,function(e){return e[t]})},pushStack:function(t){var e=S(t);return e.prevObject=this,e},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=T(t);if(this[0]&&!e)var n=S(t).get(0),i=n.parentNode||this.length>1;return this.each(function(r){S(this).wrapAll(e?t.call(this,r):i?n.cloneNode(!0):n)})},wrapAll:function(t){if(this[0]){var e;for(S(this[0]).before(t=S(t));(e=t.children()).length;)t=e.first();S(t).append(this)}return this},wrapInner:function(t){var e=T(t);return this.each(function(n){var i=S(this),r=i.contents(),o=e?t.call(this,n):t;r.length?r.wrapAll(o):i.append(o)})},unwrap:function(t){return 0===this.parent().children().length?this.parent(t).not("body").each(function(){S(this).replaceWith(document.createTextNode(this.childNodes[0].textContent))}):this.parent().each(function(){S(this).replaceWith(S(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:x(l.hide,l),toggle:function(t){return this.each(function(){var e=S(this);(void 0===t?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return S(this.pluck("previousElementSibling")).filter(t||"*")},prevAll:O(o.previousSibling,o),next:function(t){return S(this.pluck("nextElementSibling")).filter(t||"*")},nextAll:O(o.nextSiblings,o),siblings:O(o.siblings,o),html:I(n.html,n,n.html),text:I(i.text,i,i.text),attr:D(i.attr,i,i.attr),removeAttr:x(i.removeAttr,i),prop:D(i.prop,i,i.prop),removeProp:x(i.removeProp,i),data:D(i.data,i,i.data),removeData:x(i.removeData,i),val:I(i.val,i,i.val),offset:I(s.pagePosition,s,s.pagePosition),style:D(a.css,a),css:D(a.css,a),index:function(t){return t?this.indexOf(S(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t,e){return function(){var n=f.call(arguments);return u.call(this,function(i){return t.apply(e,[i].concat(n))})}}(a.hasClass,a),addClass:k(a.addClass,a,a.className),removeClass:k(a.removeClass,a,a.className),toggleClass:k(a.toggleClass,a,a.className),scrollTop:I(s.scrollTop,s),scrollLeft:I(s.scrollLeft,s),position:function(t){if(this.length){if(t)return t.of&&t.of.length&&((t=e.clone(t)).of=t.of[0]),this.each(function(){s.posit(this,t)});var n=this[0];return s.relativePosition(n)}},offsetParent:C(s.offsetParent,s)}),S.fn.detach=S.fn.remove,S.fn.hover=function(t,e){return this.mouseenter(t).mouseleave(e||t)},S.fn.size=I(s.size,s),S.fn.width=I(s.width,s,s.width),S.fn.height=I(s.height,s,s.height),S.fn.clientSize=I(s.clientSize,s.clientSize),["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});S.fn["outer"+e]=function(e,n){if(arguments.length?"boolean"!=typeof e&&(n=e,e=!1):(e=!1,n=void 0),void 0===n){var i=this[0];if(!i)return;var r=s.size(i);if(e){var o=s.marginExtents(i);r.width=r.width+o.left+o.right,r.height=r.height+o.top+o.bottom}return"width"===t?r.width:r.height}return this.each(function(i,r){var o={},a=s.marginExtents(r);"width"===t?(o.width=n,e&&(o.width=o.width-a.left-a.right)):(o.height=n,e&&(o.height=o.height-a.top-a.bottom)),s.size(r,o)})}}),S.fn.innerWidth=I(s.clientWidth,s,s.clientWidth),S.fn.innerHeight=I(s.clientHeight,s,s.clientHeight);n.traverse;function N(t,i,r){return function(r){var o,s=e.map(arguments,function(t){return"object"==(o=w(t))||"array"==o||null==t?t:n.createFragment(t)});return s.length<1?this:(this.each(function(e){t.apply(i,[this,s,e>0])}),this)}}return S.fn.after=N(n.after,n),S.fn.prepend=N(n.prepend,n),S.fn.before=N(n.before,n),S.fn.append=N(n.append,n),e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){S.fn[t]=function(t){for(var n,i=[],r=S(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),S(r[s])[e](n),h.apply(i,n.get());return this.pushStack(i)}}),S}();return(N=P).fn.on=x(r.on,r),N.fn.off=x(r.off,r),N.fn.trigger=x(r.trigger,r),"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error transitionEnd".split(" ").forEach(function(t){N.fn[t]=function(e,n){return 0 in arguments?this.on(t,e,n):this.trigger(t)}}),N.fn.one=function(t,n,i,r){return e.isString(n)||e.isFunction(r)||(r=i,i=n,n=null),e.isFunction(i)&&(r=i,i=null),this.on(t,n,i,r,1)},N.fn.animate=x(l.animate,l),N.fn.emulateTransitionEnd=x(l.emulateTransitionEnd,l),N.fn.show=x(l.show,l),N.fn.hide=x(l.hide,l),N.fn.toogle=x(l.toogle,l),N.fn.fadeTo=x(l.fadeTo,l),N.fn.fadeIn=x(l.fadeIn,l),N.fn.fadeOut=x(l.fadeOut,l),N.fn.fadeToggle=x(l.fadeToggle,l),N.fn.slideDown=x(l.slideDown,l),N.fn.slideToggle=x(l.slideToggle,l),N.fn.slideUp=x(l.slideUp,l),N.fn.scrollParent=function(t){var e=this.css("position"),n="absolute"===e,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=N(this);return(!n||"static"!==t.css("position"))&&i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&r.length?r:N(this[0].ownerDocument||document)},function(t){t.fn.end=function(){return this.prevObject||t()},t.fn.andSelf=function(){return this.add(this.prevObject||t())},t.fn.addBack=function(t){return this.prevObject?t?this.add(this.prevObject.filter(t)):this.add(this.prevObject):this},"filter,add,not,eq,first,last,find,closest,parents,parent,children,siblings".split(",").forEach(function(e){var n=t.fn[e];t.fn[e]=function(){var t=n.apply(this,arguments);return t.prevObject=this,t}})}(P),function(t){var i;t.fn.query=t.fn.find,t.fn.place=function(t,i){return e.isString(t)?t=o.descendant(t):c(t)&&(t=t[0]),this.each(function(e,r){switch(i){case"before":n.before(t,r);break;case"after":n.after(t,r);break;case"replace":n.replace(t,r);break;case"only":n.empty(t),n.append(t,r);break;case"first":n.prepend(t,r);break;default:n.append(t,r)}})},t.fn.addContent=function(t,n){return t.template&&(t=e.substitute(t.template,t)),this.append(t)},t.fn.replaceClass=function(t,e){return this.removeClass(e),this.addClass(t),this},t.fn.replaceClass=function(t,e){return this.removeClass(e),this.addClass(t),this},t.fn.disableSelection=(i="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(i+".ui-disableSelection",function(t){t.preventDefault()})}),t.fn.enableSelection=function(){return this.off(".ui-disableSelection")}}(P),P.fn.plugin=function(t,e){var n=f.call(arguments,1),i=this,r=this;return this.each(function(){r=plugins.instantiate.apply(i,[this,t].concat(n))}),r},t.query=P}),define("skylark-utils-dom/elmx",["./dom","./langx","./datax","./eventer","./finder","./fx","./geom","./noder","./styler","./query"],function(t,e,n,i,r,o,s,a,l,c){var u=Array.prototype.map,h=Array.prototype.slice,f=e.klass({klassName:"VisualElement",init:function(t){e.isString(t)&&(t=document.getElementById(t)),this._elm=t}});f.prototype.$=f.prototype.query=function(t){return c(t,this._elm)};var d=new f(document.body),p=function(t){return t?new f(t):d};e.mixin(p,{batch:function(t,e,n){return t.forEach(function(t){var i=t instanceof f?t:p(t);i[e].apply(i,n)}),this},root:new f(document.body),VisualElement:f,partial:function(t,e){var n={};n[t]=e,f.partial(n)},delegate:function(t,n){var i={};t.forEach(function(t){i[t]=function(t,n){return function(){var i=this._elm,r=t.apply(n,[i].concat(h.call(arguments)));if(r){if(r===n)return this;r instanceof HTMLElement?r=new f(r):e.isArrayLike(r)&&(r=u.call(r,function(t){return t instanceof HTMLElement?new f(t):t}))}return r}}(n[t],n)}),f.partial(i)}}),p.delegate(["attr","data","prop","removeAttr","removeData","text","val"],n),p.delegate(["off","on","one","shortcuts","trigger"],i),p.delegate(["ancestor","ancestors","children","descendant","find","findAll","firstChild","lastChild","matches","nextSibling","nextSiblings","parent","previousSibling","previousSiblings","siblings"],r),p.find=function(t){return"body"===t?this.root:this.root.descendant(t)},p.delegate(["animate","fadeIn","fadeOut","fadeTo","fadeToggle","hide","scrollToTop","show","toggle"],o),p.delegate(["borderExtents","boundingPosition","boundingRect","clientHeight","clientSize","clientWidth","contentRect","height","marginExtents","offsetParent","paddingExtents","pagePosition","pageRect","relativePosition","relativeRect","scrollIntoView","scrollLeft","scrollTop","size","width"],s),p.delegate(["after","append","before","clone","contains","contents","empty","html","isChildOf","ownerDoc","prepend","remove","removeChild","replace","reverse","throb","traverse","wrapper","wrapperInner","unwrap"],a),p.delegate(["addClass","className","css","hasClass","hide","isInvisible","removeClass","show","toggleClass"],l);["position","left","top","right","bottom","width","height","border","borderLeft","borderTop","borderRight","borderBottom","borderColor","display","overflow","margin","marginLeft","marginTop","marginRight","marginBottom","padding","paddingLeft","paddingTop","paddingRight","paddingBottom","color","background","backgroundColor","opacity","fontSize","fontWeight","textAlign","textDecoration","textTransform","cursor","zIndex"].forEach(function(t){var e=t;f.prototype[e]=function(e){return this.css(t,e),this}});return["keyUp","keyDown","mouseOver","mouseOut","click","dblClick","change"].forEach(function(t){var e=t;f.prototype[e]=function(e){return this.on(t.toLowerCase(),e),this}}),t.elmx=p}),define("skylark-utils-dom/plugins",["./dom","./langx","./noder","./datax","./eventer","./finder","./geom","./styler","./fx","./query","./elmx"],function(t,e,n,i,r,o,s,a,l,c,u){"use strict";var h=Array.prototype.slice,f=(Array.prototype.concat,{}),d={};function p(t,e,n){var r=i.data(t,e);if("instance"===n)return r;if("destroy"===n){if(!r)throw new Error("The plugin instance is not existed");r.destroy(),i.removeData(t,e),r=void 0}else if(r)n&&r.reset(n);else{if(void 0!==n&&"object"!=typeof n)throw new Error("The options must be a plain object");var o=f[e];r=new o(t,n),i.data(t,e,r)}return r}var m=e.Evented.inherit({klassName:"Plugin",_construct:function(t,e){this._elm=t,this._initOptions(e)},_initOptions:function(t){var n=this.constructor,i=n.cache=n.cache||{},r=i.defaults;if(!r){var o=[];do{if(o.unshift(n),n===m)break;n=n.superclass}while(n);r=i.defaults={};for(var s=0;s<o.length;s++)(n=o[s]).prototype.hasOwnProperty("options")&&e.mixin(r,n.prototype.options),n.hasOwnProperty("options")&&e.mixin(r,n.options)}return Object.defineProperty(this,"options",{value:e.mixin({},r,t)}),this.options},destroy:function(){this._destroy(),i.removeData(this._elm,this.pluginName)},_destroy:e.noop,_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},option:function(t,n){var i,r,o,s=t;if(0===arguments.length)return e.mixin({},this.options);if("string"==typeof t)if(s={},i=t.split("."),t=i.shift(),i.length){for(r=s[t]=e.mixin({},this.options[t]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(t=i.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,this}});function g(){return g}return c.fn.plugin=function(t,e){var n=h.call(arguments,1),i=this,r=this;return this.each(function(){r=p.apply(i,[this,t].concat(n))}),r},u.partial("plugin",function(t,e){var n=h.call(arguments,1);return p.apply(this,[this.domNode,t].concat(n))}),e.mixin(g,{instantiate:p,Plugin:m,register:function(t,n,i){var r=t.prototype.pluginName;if(f[r]=t,n){var o=d[n]=function(t,n){return function(i,r){var o=p(i,t,"instance");if("instance"===r)return o||null;if(o||(o=p(i,t,"object"==typeof r&&r||{})),r){var s=h.call(arguments,1);if(n)return n.apply(o,s);if("string"==typeof r){var a=r;if(!o)throw new Error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+a+"'");if(!e.isFunction(o[a])||"_"===a.charAt(0))throw new Error("no such method '"+a+"' for "+t+" plugin instance");o[a].apply(o,s)}}}}(r,i);c.fn[n]=function(t){var e=this;return this.length||"instance"!==t?this.each(function(){var n=o(this,t);if(void 0!==n)return e=n,!1}):e=void 0,e},u.partial(n,function(t){var e=o(this._elm,t);return void 0===e&&(e=this),e})}},shortcuts:d}),g}),define("skylark-bootstrap4/bs4",["skylark-utils-dom/skylark"],function(t){var e=t.ui=t.ui||{},n=e.bs4={};return n}),define("skylark-bootstrap4/util",["skylark-utils-dom/query","skylark-utils-dom/eventer"],function(t,e){"use strict";const n={TRANSITION_END:"bsTransitionEnd",getUID(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement(t){let e=t.getAttribute("data-target");if(!e||"#"===e){const n=t.getAttribute("href");e=n&&"#"!==n?n.trim():""}return e&&document.querySelector(e)?e:null},getTransitionDurationFromElement(e){if(!e)return 0;let n=t(e).css("transition-duration"),i=t(e).css("transition-delay");const r=parseFloat(n),o=parseFloat(i);return r||o?(n=n.split(",")[0],i=i.split(",")[0],1e3*(parseFloat(n)+parseFloat(i))):0},reflow:t=>t.offsetHeight,triggerTransitionEnd(e){t(e).trigger("transitionend")},supportsTransitionEnd:()=>Boolean("transitionend"),isElement:t=>(t[0]||t).nodeType,typeCheckConfig(t,e,i){for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const s=i[o],a=e[o],l=a&&n.isElement(a)?"element":(r=a,{}.toString.call(r).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(s).test(l))throw new Error(`${t.toUpperCase()}: `+`Option "${o}" provided type "${l}" `+`but expected type "${s}".`)}var r},findShadowRoot(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?n.findShadowRoot(t.parentNode):null}};return e.special.bsTransitionEnd=e.special.transitionEnd,n}),define("skylark-bootstrap4/alert",["skylark-utils-dom/query","skylark-utils-dom/plugins","./bs4","./util"],function(t,e,n,i){"use strict";const r="4.1.3",o="bs.alert",s=`.${o}`,a=t.fn.alert,l={CLOSE:`close${s}`,CLOSED:`closed${s}`,CLICK_DATA_API:`click${s}.data-api`},c={ALERT:"alert",FADE:"fade",SHOW:"show"};class u{constructor(t){this._element=t}static get VERSION(){return r}close(t){let e=this._element;t&&(e=this._getRootElement(t));const n=this._triggerCloseEvent(e);n.isDefaultPrevented()||this._removeElement(e)}dispose(){t.removeData(this._element,o),this._element=null}_getRootElement(e){const n=i.getSelectorFromElement(e);let r=!1;return n&&(r=document.querySelector(n)),r||(r=t(e).closest(`.${c.ALERT}`)[0]),r}_triggerCloseEvent(e){const n=t.Event(l.CLOSE);return t(e).trigger(n),n}_removeElement(e){if(t(e).removeClass(c.SHOW),!t(e).hasClass(c.FADE))return void this._destroyElement(e);const n=i.getTransitionDurationFromElement(e);t(e).one(i.TRANSITION_END,t=>this._destroyElement(e,t)).emulateTransitionEnd(n)}_destroyElement(e){t(e).detach().trigger(l.CLOSED).remove()}static _jqueryInterface(e){return this.each(function(){const n=t(this);let i=n.data(o);i||(i=new u(this),n.data(o,i)),"close"===e&&i[e](this)})}static _handleDismiss(t){return function(e){e&&e.preventDefault(),t.close(this)}}}return t(document).on(l.CLICK_DATA_API,'[data-dismiss="alert"]',u._handleDismiss(new u)),t.fn.alert=u._jqueryInterface,t.fn.alert.Constructor=u,t.fn.alert.noConflict=(()=>(t.fn.alert=a,u._jqueryInterface)),n.Alert=u}),define("skylark-bootstrap4/button",["skylark-utils-dom/query","skylark-utils-dom/plugins","./bs4"],function(t,e,n){"use strict";const i="button",r="4.1.3",o="bs.button",s=`.${o}`,a=t.fn[i],l={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},c={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:'input:not([type="hidden"])',ACTIVE:".active",BUTTON:".btn"},u={CLICK_DATA_API:`click${s}.data-api`,FOCUS_BLUR_DATA_API:`focus${s}.data-api `+`blur${s}.data-api`};class h{constructor(t){this._element=t}static get VERSION(){return r}toggle(){let e=!0,n=!0;const i=t(this._element).closest(c.DATA_TOGGLE)[0];if(i){const r=this._element.querySelector(c.INPUT);if(r){if("radio"===r.type)if(r.checked&&this._element.classList.contains(l.ACTIVE))e=!1;else{const e=i.querySelector(c.ACTIVE);e&&t(e).removeClass(l.ACTIVE)}if(e){if(r.hasAttribute("disabled")||i.hasAttribute("disabled")||r.classList.contains("disabled")||i.classList.contains("disabled"))return;r.checked=!this._element.classList.contains(l.ACTIVE),t(r).trigger("change")}r.focus(),n=!1}}n&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(l.ACTIVE)),e&&t(this._element).toggleClass(l.ACTIVE)}dispose(){t.removeData(this._element,o),this._element=null}static _jqueryInterface(e){return this.each(function(){let n=t(this).data(o);n||(n=new h(this),t(this).data(o,n)),"toggle"===e&&n[e]()})}}return t(document).on(u.CLICK_DATA_API,c.DATA_TOGGLE_CARROT,e=>{e.preventDefault();let n=e.target;t(n).hasClass(l.BUTTON)||(n=t(n).closest(c.BUTTON)),h._jqueryInterface.call(t(n),"toggle")}).on(u.FOCUS_BLUR_DATA_API,c.DATA_TOGGLE_CARROT,e=>{const n=t(e.target).closest(c.BUTTON)[0];t(n).toggleClass(l.FOCUS,/^focus(in)?$/.test(e.type))}),t.fn[i]=h._jqueryInterface,t.fn[i].Constructor=h,t.fn[i].noConflict=(()=>(t.fn[i]=a,h._jqueryInterface)),n.Button=h}),define("skylark-bootstrap4/carousel",["skylark-langx/langx","skylark-utils-dom/query","skylark-utils-dom/plugins","./bs4","./util"],function(t,e,n,i,r){"use strict";const o="carousel",s="4.1.3",a="bs.carousel",l=`.${a}`,c=e.fn[o],u=37,h=39,f=500,d=40,p={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},m={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},g={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},v={SLIDE:`slide${l}`,SLID:`slid${l}`,KEYDOWN:`keydown${l}`,MOUSEENTER:`mouseenter${l}`,MOUSELEAVE:`mouseleave${l}`,TOUCHSTART:`touchstart${l}`,TOUCHMOVE:`touchmove${l}`,TOUCHEND:`touchend${l}`,POINTERDOWN:`pointerdown${l}`,POINTERUP:`pointerup${l}`,DRAG_START:`dragstart${l}`,LOAD_DATA_API:`load${l}.data-api`,CLICK_DATA_API:`click${l}.data-api`},y={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item",POINTER_EVENT:"pointer-event"},_={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",ITEM_IMG:".carousel-item img",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},b={TOUCH:"touch",PEN:"pen"};class E{constructor(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(_.INDICATORS),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}static get VERSION(){return s}static get Default(){return p}next(){this._isSliding||this._slide(g.NEXT)}nextWhenVisible(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()}prev(){this._isSliding||this._slide(g.PREV)}pause(t){t||(this._isPaused=!0),this._element.querySelector(_.NEXT_PREV)&&(r.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(t){this._activeElement=this._element.querySelector(_.ACTIVE_ITEM);const n=this._getItemIndex(this._activeElement);if(t>this._items.length-1||t<0)return;if(this._isSliding)return void e(this._element).one(v.SLID,()=>this.to(t));if(n===t)return this.pause(),void this.cycle();const i=t>n?g.NEXT:g.PREV;this._slide(i,this._items[t])}dispose(){e(this._element).off(l),e.removeData(this._element,a),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null}_getConfig(e){return e=t.mixin({},p,e),r.typeCheckConfig(o,e,m),e}_handleSwipe(){const t=Math.abs(this.touchDeltaX);if(t<=d)return;const e=t/this.touchDeltaX;e>0&&this.prev(),e<0&&this.next()}_addEventListeners(){this._config.keyboard&&e(this._element).on(v.KEYDOWN,t=>this._keydown(t)),"hover"===this._config.pause&&e(this._element).on(v.MOUSEENTER,t=>this.pause(t)).on(v.MOUSELEAVE,t=>this.cycle(t)),this._addTouchEventListeners()}_addTouchEventListeners(){if(!this._touchSupported)return;const t=t=>{this._pointerEvent&&b[t.originalEvent.pointerType.toUpperCase()]?this.touchStartX=t.originalEvent.clientX:this._pointerEvent||(this.touchStartX=t.originalEvent.touches[0].clientX)},n=t=>{t.originalEvent.touches&&t.originalEvent.touches.length>1?this.touchDeltaX=0:this.touchDeltaX=t.originalEvent.touches[0].clientX-this.touchStartX},i=t=>{this._pointerEvent&&b[t.originalEvent.pointerType.toUpperCase()]&&(this.touchDeltaX=t.originalEvent.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(t=>this.cycle(t),f+this._config.interval))};e(this._element.querySelectorAll(_.ITEM_IMG)).on(v.DRAG_START,t=>t.preventDefault()),this._pointerEvent?(e(this._element).on(v.POINTERDOWN,e=>t(e)),e(this._element).on(v.POINTERUP,t=>i(t)),this._element.classList.add(y.POINTER_EVENT)):(e(this._element).on(v.TOUCHSTART,e=>t(e)),e(this._element).on(v.TOUCHMOVE,t=>n(t)),e(this._element).on(v.TOUCHEND,t=>i(t)))}_keydown(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case u:t.preventDefault(),this.prev();break;case h:t.preventDefault(),this.next()}}_getItemIndex(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(_.ITEM)):[],this._items.indexOf(t)}_getItemByDirection(t,e){const n=t===g.NEXT,i=t===g.PREV,r=this._getItemIndex(e),o=this._items.length-1,s=i&&0===r||n&&r===o;if(s&&!this._config.wrap)return e;const a=t===g.PREV?-1:1,l=(r+a)%this._items.length;return-1===l?this._items[this._items.length-1]:this._items[l]}_triggerSlideEvent(t,n){const i=this._getItemIndex(t),r=this._getItemIndex(this._element.querySelector(_.ACTIVE_ITEM)),o=e.Event(v.SLIDE,{relatedTarget:t,direction:n,from:r,to:i});return e(this._element).trigger(o),o}_setActiveIndicatorElement(t){if(this._indicatorsElement){const n=[].slice.call(this._indicatorsElement.querySelectorAll(_.ACTIVE));e(n).removeClass(y.ACTIVE);const i=this._indicatorsElement.children[this._getItemIndex(t)];i&&e(i).addClass(y.ACTIVE)}}_slide(t,n){const i=this._element.querySelector(_.ACTIVE_ITEM),o=this._getItemIndex(i),s=n||i&&this._getItemByDirection(t,i),a=this._getItemIndex(s),l=Boolean(this._interval);let c,u,h;if(t===g.NEXT?(c=y.LEFT,u=y.NEXT,h=g.LEFT):(c=y.RIGHT,u=y.PREV,h=g.RIGHT),s&&e(s).hasClass(y.ACTIVE))return void(this._isSliding=!1);const f=this._triggerSlideEvent(s,h);if(f.isDefaultPrevented())return;if(!i||!s)return;this._isSliding=!0,l&&this.pause(),this._setActiveIndicatorElement(s);const d=e.Event(v.SLID,{relatedTarget:s,direction:h,from:o,to:a});if(e(this._element).hasClass(y.SLIDE)){e(s).addClass(u),r.reflow(s),e(i).addClass(c),e(s).addClass(c);const t=parseInt(s.getAttribute("data-interval"),10);t?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=t):this._config.interval=this._config.defaultInterval||this._config.interval;const n=r.getTransitionDurationFromElement(i);e(i).one(r.TRANSITION_END,()=>{e(s).removeClass(`${c} ${u}`).addClass(y.ACTIVE),e(i).removeClass(`${y.ACTIVE} ${u} ${c}`),this._isSliding=!1,setTimeout(()=>e(this._element).trigger(d),0)}).emulateTransitionEnd(n)}else e(i).removeClass(y.ACTIVE),e(s).addClass(y.ACTIVE),this._isSliding=!1,e(this._element).trigger(d);l&&this.cycle()}static _jqueryInterface(n){return this.each(function(){let i=e(this).data(a),r=t.mixin({},p,e(this).data());"object"==typeof n&&t.mixin(r,n);const o="string"==typeof n?n:r.slide;if(i||(i=new E(this,r),e(this).data(a,i)),"number"==typeof n)i.to(n);else if("string"==typeof o){if(void 0===i[o])throw new TypeError(`No method named "${o}"`);i[o]()}else r.interval&&(i.pause(),i.cycle())})}static _dataApiClickHandler(n){const i=r.getSelectorFromElement(this);if(!i)return;const o=e(i)[0];if(!o||!e(o).hasClass(y.CAROUSEL))return;const s=t.mixin({},e(o).data(),e(this).data()),l=this.getAttribute("data-slide-to");l&&(s.interval=!1),E._jqueryInterface.call(e(o),s),l&&e(o).data(a).to(l),n.preventDefault()}}return e(document).on(v.CLICK_DATA_API,_.DATA_SLIDE,E._dataApiClickHandler),e(window).on(v.LOAD_DATA_API,()=>{const t=[].slice.call(document.querySelectorAll(_.DATA_RIDE));for(let n=0,i=t.length;n<i;n++){const i=e(t[n]);E._jqueryInterface.call(i,i.data())}}),e.fn[o]=E._jqueryInterface,e.fn[o].Constructor=E,e.fn[o].noConflict=(()=>(e.fn[o]=c,E._jqueryInterface)),E}),define("skylark-bootstrap4/collapse",["skylark-langx/langx","skylark-utils-dom/query","skylark-utils-dom/plugins","./bs4","./util"],function(t,e,n,i,r){"use strict";const o="collapse",s="4.1.3",a="bs.collapse",l=`.${a}`,c=e.fn[o],u={toggle:!0,parent:""},h={toggle:"boolean",parent:"(string|element)"},f={SHOW:`show${l}`,SHOWN:`shown${l}`,HIDE:`hide${l}`,HIDDEN:`hidden${l}`,CLICK_DATA_API:`click${l}.data-api`},d={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},p={WIDTH:"width",HEIGHT:"height"},m={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'};class g{constructor(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll(`[data-toggle="collapse"][href="#${t.id}"],`+`[data-toggle="collapse"][data-target="#${t.id}"]`));const n=[].slice.call(document.querySelectorAll(m.DATA_TOGGLE));for(let e=0,i=n.length;e<i;e++){const i=n[e],o=r.getSelectorFromElement(i),s=[].slice.call(document.querySelectorAll(o)).filter(e=>e===t);null!==o&&s.length>0&&(this._selector=o,this._triggerArray.push(i))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}static get VERSION(){return s}static get Default(){return u}toggle(){e(this._element).hasClass(d.SHOW)?this.hide():this.show()}show(){if(this._isTransitioning||e(this._element).hasClass(d.SHOW))return;let t,n;if(this._parent&&0===(t=[].slice.call(this._parent.querySelectorAll(m.ACTIVES)).filter(t=>"string"==typeof this._config.parent?t.getAttribute("data-parent")===this._config.parent:t.classList.contains(d.COLLAPSE))).length&&(t=null),t&&(n=e(t).not(this._selector).data(a))&&n._isTransitioning)return;const i=e.Event(f.SHOW);if(e(this._element).trigger(i),i.isDefaultPrevented())return;t&&(g._jqueryInterface.call(e(t).not(this._selector),"hide"),n||e(t).data(a,null));const o=this._getDimension();e(this._element).removeClass(d.COLLAPSE).addClass(d.COLLAPSING),this._element.style[o]=0,this._triggerArray.length&&e(this._triggerArray).removeClass(d.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);const s=o[0].toUpperCase()+o.slice(1),l=`scroll${s}`,c=r.getTransitionDurationFromElement(this._element);e(this._element).one(r.TRANSITION_END,()=>{e(this._element).removeClass(d.COLLAPSING).addClass(d.COLLAPSE).addClass(d.SHOW),this._element.style[o]="",this.setTransitioning(!1),e(this._element).trigger(f.SHOWN)}).emulateTransitionEnd(c),this._element.style[o]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!e(this._element).hasClass(d.SHOW))return;const t=e.Event(f.HIDE);if(e(this._element).trigger(t),t.isDefaultPrevented())return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,r.reflow(this._element),e(this._element).addClass(d.COLLAPSING).removeClass(d.COLLAPSE).removeClass(d.SHOW);const i=this._triggerArray.length;if(i>0)for(let t=0;t<i;t++){const n=this._triggerArray[t],i=r.getSelectorFromElement(n);if(null!==i){const t=e([].slice.call(document.querySelectorAll(i)));t.hasClass(d.SHOW)||e(n).addClass(d.COLLAPSED).attr("aria-expanded",!1)}}this.setTransitioning(!0);this._element.style[n]="";const o=r.getTransitionDurationFromElement(this._element);e(this._element).one(r.TRANSITION_END,()=>{this.setTransitioning(!1),e(this._element).removeClass(d.COLLAPSING).addClass(d.COLLAPSE).trigger(f.HIDDEN)}).emulateTransitionEnd(o)}setTransitioning(t){this._isTransitioning=t}dispose(){e.removeData(this._element,a),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null}_getConfig(e){return(e=t.mixin({},u,e)).toggle=Boolean(e.toggle),r.typeCheckConfig(o,e,h),e}_getDimension(){const t=e(this._element).hasClass(p.WIDTH);return t?p.WIDTH:p.HEIGHT}_getParent(){let t;r.isElement(this._config.parent)?(t=this._config.parent,typeof this._config.parent.skylark-utils-dom/query!=="undefined"&&(t=this._config.parent[0])):t=document.querySelector(this._config.parent);const n=`[data-toggle="collapse"][data-parent="${this._config.parent}"]`,i=[].slice.call(t.querySelectorAll(n));return e(i).each((t,e)=>{this._addAriaAndCollapsedClass(g._getTargetFromElement(e),[e])}),t}_addAriaAndCollapsedClass(t,n){const i=e(t).hasClass(d.SHOW);n.length&&e(n).toggleClass(d.COLLAPSED,!i).attr("aria-expanded",i)}static _getTargetFromElement(t){const e=r.getSelectorFromElement(t);return e?document.querySelector(e):null}static _jqueryInterface(n){return this.each(function(){const i=e(this);let r=i.data(a);const o=t.mixin({},u,i.data(),"object"==typeof n&&n?n:{});if(!r&&o.toggle&&/show|hide/.test(n)&&(o.toggle=!1),r||(r=new g(this,o),i.data(a,r)),"string"==typeof n){if(void 0===r[n])throw new TypeError(`No method named "${n}"`);r[n]()}})}}return e(document).on(f.CLICK_DATA_API,m.DATA_TOGGLE,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();const n=e(this),i=r.getSelectorFromElement(this),o=[].slice.call(document.querySelectorAll(i));e(o).each(function(){const t=e(this),i=t.data(a),r=i?"toggle":n.data();g._jqueryInterface.call(t,r)})}),e.fn[o]=g._jqueryInterface,e.fn[o].Constructor=g,e.fn[o].noConflict=(()=>(e.fn[o]=c,g._jqueryInterface)),g}),define("skylark-ui-popper/Popper",["skylark-langx/skylark"],function(t){"use strict";for(var e="undefined"!=typeof window&&"undefined"!=typeof document,n=["Edge","Trident","Firefox"],i=0,r=0;r<n.length;r+=1)if(e&&navigator.userAgent.indexOf(n[r])>=0){i=1;break}var o=e&&window.Promise,s=o?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},i))}};function a(t){return t&&"[object Function]"==={}.toString.call(t)}function l(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView,i=n.getComputedStyle(t,null);return e?i[e]:i}function c(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function u(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=l(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?t:u(c(t))}var h=e&&!(!window.MSInputMethodContext||!document.documentMode),f=e&&/MSIE 10/.test(navigator.userAgent);function d(t){return 11===t?h:10===t?f:h||f}function p(t){if(!t)return document.documentElement;for(var e=d(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===l(n,"position")?p(n):n:t?t.ownerDocument.documentElement:document.documentElement}function m(t){return null!==t.parentNode?m(t.parentNode):t}function g(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var s=o.commonAncestorContainer;if(t!==s&&e!==s||i.contains(r))return function(t){var e=t.nodeName;if("BODY"===e)return!1;return"HTML"===e||p(t.firstElementChild)===t}(s)?s:p(s);var a=m(t);return a.host?g(a.host,e):g(t,m(e).host)}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",i=t.nodeName;if("BODY"===i||"HTML"===i){var r=t.ownerDocument.documentElement,o=t.ownerDocument.scrollingElement||r;return o[n]}return t[n]}function y(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function _(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],d(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function b(t){var e=t.body,n=t.documentElement,i=d(10)&&getComputedStyle(n);return{height:_("Height",e,n,i),width:_("Width",e,n,i)}}var E=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},T=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),w=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function A(t){return S({},t,{right:t.left+t.width,bottom:t.top+t.height})}function C(t){var e={};try{if(d(10)){e=t.getBoundingClientRect();var n=v(t,"top"),i=v(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?b(t.ownerDocument):{},s=o.width||t.clientWidth||r.right-r.left,a=o.height||t.clientHeight||r.bottom-r.top,c=t.offsetWidth-s,u=t.offsetHeight-a;if(c||u){var h=l(t);c-=y(h,"x"),u-=y(h,"y"),r.width-=c,r.height-=u}return A(r)}function O(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=d(10),r="HTML"===e.nodeName,o=C(t),s=C(e),a=u(t),c=l(e),h=parseFloat(c.borderTopWidth,10),f=parseFloat(c.borderLeftWidth,10);n&&r&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var p=A({top:o.top-s.top-h,left:o.left-s.left-f,width:o.width,height:o.height});if(p.marginTop=0,p.marginLeft=0,!i&&r){var m=parseFloat(c.marginTop,10),g=parseFloat(c.marginLeft,10);p.top-=h-m,p.bottom-=h-m,p.left-=f-g,p.right-=f-g,p.marginTop=m,p.marginLeft=g}return(i&&!n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(p=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=v(e,"top"),r=v(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}(p,e)),p}function x(t){if(!t||!t.parentElement||d())return document.documentElement;for(var e=t.parentElement;e&&"none"===l(e,"transform");)e=e.parentElement;return e||document.documentElement}function k(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=r?x(t):g(t,e);if("viewport"===i)o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=O(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:v(n),a=e?0:v(n,"left");return A({top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:r,height:o})}(s,r);else{var a=void 0;"scrollParent"===i?"BODY"===(a=u(c(e))).nodeName&&(a=t.ownerDocument.documentElement):a="window"===i?t.ownerDocument.documentElement:i;var h=O(a,s,r);if("HTML"!==a.nodeName||function t(e){var n=e.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===l(e,"position"))return!0;return t(c(e))}(s))o=h;else{var f=b(t.ownerDocument),d=f.height,p=f.width;o.top+=h.top-h.marginTop,o.bottom=d+h.top,o.left+=h.left-h.marginLeft,o.right=p+h.left}}var m="number"==typeof(n=n||0);return o.left+=m?n:n.left||0,o.top+=m?n:n.top||0,o.right-=m?n:n.right||0,o.bottom-=m?n:n.bottom||0,o}function D(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=k(n,i,o,r),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map(function(t){return S({key:t},a[t],{area:(e=a[t],n=e.width,i=e.height,n*i)});var e,n,i}).sort(function(t,e){return e.area-t.area}),c=l.filter(function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight}),u=c.length>0?c[0].key:l[0].key,h=t.split("-")[1];return u+(h?"-"+h:"")}function I(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=i?x(e):g(e,n);return O(n,r,i)}function N(t){var e=t.ownerDocument.defaultView,n=e.getComputedStyle(t),i=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),r=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),o={width:t.offsetWidth+r,height:t.offsetHeight+i};return o}function L(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function P(t,e,n){n=n.split("-")[0];var i=N(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return r[s]=e[s]+e[l]/2-i[l]/2,r[a]=n===a?e[a]-i[c]:e[L(a)],r}function R(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function H(t,e,n){var i=void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var i=R(t,function(t){return t[e]===n});return t.indexOf(i)}(t,"name",n));return i.forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&a(n)&&(e.offsets.popper=A(e.offsets.popper),e.offsets.reference=A(e.offsets.reference),e=n(e,t))}),e}function W(t,e){return t.some(function(t){var n=t.name,i=t.enabled;return i&&n===e})}function F(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if(void 0!==document.body.style[o])return o}return null}function j(t){var e=t.ownerDocument;return e?e.defaultView:window}function $(t,e,n,i){n.updateBound=i,j(t).addEventListener("resize",n.updateBound,{passive:!0});var r=u(t);return function t(e,n,i,r){var o="BODY"===e.nodeName;var s=o?e.ownerDocument.defaultView:e;s.addEventListener(n,i,{passive:!0});o||t(u(s.parentNode),n,i,r);r.push(s)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function q(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,j(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function M(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function U(t,e){Object.keys(e).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&M(e[n])&&(i="px"),t.style[n]=e[n]+i})}var V=e&&/Firefox/i.test(navigator.userAgent);function B(t,e,n){var i=R(t,function(t){var n=t.name;return n===e}),r=!!i&&t.some(function(t){return t.name===n&&t.enabled&&t.order<i.order});if(!r){var o="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var z=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],G=z.slice(3);function K(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=G.indexOf(t),i=G.slice(n+1).concat(G.slice(0,n));return e?i.reverse():i}var X={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function Y(t,e,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),s=t.split(/(\+|\-)/).map(function(t){return t.trim()}),a=s.indexOf(R(s,function(t){return-1!==t.search(/,|\s/)}));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return(c=c.map(function(t,i){var r=(1===i?!o:o)?"height":"width",s=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];if(!o)return t;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}var l=A(a);return l[e]/100*o}if("vh"===s||"vw"===s){return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(t,r,e,n)})})).forEach(function(t,e){t.forEach(function(n,i){M(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))})}),r}var Z={shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",c=a?"width":"height",u={start:w({},l,o[l]),end:w({},l,o[l]+o[c]-s[c])};t.offsets.popper=S({},s,u[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,i=t.placement,r=t.offsets,o=r.popper,s=r.reference,a=i.split("-")[0],l=void 0;l=M(+n)?[+n,0]:Y(n,o,s,a);"left"===a?(o.top+=l[0],o.left-=l[1]):"right"===a?(o.top+=l[0],o.left+=l[1]):"top"===a?(o.left+=l[0],o.top-=l[1]):"bottom"===a&&(o.left+=l[0],o.top+=l[1]);return t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||p(t.instance.popper);t.instance.reference===n&&(n=p(n));var i=F("transform"),r=t.instance.popper.style,o=r.top,s=r.left,a=r[i];r.top="",r.left="",r[i]="";var l=k(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=o,r.left=s,r[i]=a,e.boundaries=l;var c=e.priority,u=t.offsets.popper,h={primary:function(t){var n=u[t];return u[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(u[t],l[t])),w({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=u[n];return u[t]>l[t]&&!e.escapeWithReference&&(i=Math.min(u[n],l[t]-("right"===t?u.width:u.height))),w({},n,i)}};return c.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=S({},u,h[e](t))}),t.offsets.popper=u,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";n[a]<o(i[l])&&(t.offsets.popper[l]=o(i[l])-n[c]);n[l]>o(i[a])&&(t.offsets.popper[l]=o(i[a]));return t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!B(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],o=t.offsets,s=o.popper,a=o.reference,c=-1!==["left","right"].indexOf(r),u=c?"height":"width",h=c?"Top":"Left",f=h.toLowerCase(),d=c?"left":"top",p=c?"bottom":"right",m=N(i)[u];a[p]-m<s[f]&&(t.offsets.popper[f]-=s[f]-(a[p]-m));a[f]+m>s[p]&&(t.offsets.popper[f]+=a[f]+m-s[p]);t.offsets.popper=A(t.offsets.popper);var g=a[f]+a[u]/2-m/2,v=l(t.instance.popper),y=parseFloat(v["margin"+h],10),_=parseFloat(v["border"+h+"Width"],10),b=g-t.offsets.popper[f]-y-_;return b=Math.max(Math.min(s[u]-m,b),0),t.arrowElement=i,t.offsets.arrow=(w(n={},f,Math.round(b)),w(n,d,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(W(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=k(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=L(i),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case X.FLIP:s=[i,r];break;case X.CLOCKWISE:s=K(i);break;case X.COUNTERCLOCKWISE:s=K(i,!0);break;default:s=e.behavior}return s.forEach(function(a,l){if(i!==a||s.length===l+1)return t;i=t.placement.split("-")[0],r=L(i);var c=t.offsets.popper,u=t.offsets.reference,h=Math.floor,f="left"===i&&h(c.right)>h(u.left)||"right"===i&&h(c.left)<h(u.right)||"top"===i&&h(c.bottom)>h(u.top)||"bottom"===i&&h(c.top)<h(u.bottom),d=h(c.left)<h(n.left),p=h(c.right)>h(n.right),m=h(c.top)<h(n.top),g=h(c.bottom)>h(n.bottom),v="left"===i&&d||"right"===i&&p||"top"===i&&m||"bottom"===i&&g,y=-1!==["top","bottom"].indexOf(i),_=!!e.flipVariations&&(y&&"start"===o&&d||y&&"end"===o&&p||!y&&"start"===o&&m||!y&&"end"===o&&g);(f||v||_)&&(t.flipped=!0,(f||v)&&(i=s[l+1]),_&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=i+(o?"-"+o:""),t.offsets.popper=S({},t.offsets.popper,P(t.instance.popper,t.offsets.reference,t.placement)),t=H(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[n]-(a?r[s?"width":"height"]:0),t.placement=L(e),t.offsets.popper=A(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!B(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=R(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,r=t.offsets.popper,o=R(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:e.gpuAcceleration,a=p(t.instance.popper),l=C(a),c={position:r.position},u=function(t,e){var n=t.offsets,i=n.popper,r=n.reference,o=-1!==["left","right"].indexOf(t.placement),s=-1!==t.placement.indexOf("-"),a=r.width%2==i.width%2,l=r.width%2==1&&i.width%2==1,c=function(t){return t},u=e?o||s||a?Math.round:Math.floor:c,h=e?Math.round:c;return{left:u(l&&!s&&e?i.left-1:i.left),top:h(i.top),bottom:h(i.bottom),right:u(i.right)}}(t,window.devicePixelRatio<2||!V),h="bottom"===n?"top":"bottom",f="right"===i?"left":"right",d=F("transform"),m=void 0,g=void 0;g="bottom"===h?"HTML"===a.nodeName?-a.clientHeight+u.bottom:-l.height+u.bottom:u.top;m="right"===f?"HTML"===a.nodeName?-a.clientWidth+u.right:-l.width+u.right:u.left;if(s&&d)c[d]="translate3d("+m+"px, "+g+"px, 0)",c[h]=0,c[f]=0,c.willChange="transform";else{var v="bottom"===h?-1:1,y="right"===f?-1:1;c[h]=g*v,c[f]=m*y,c.willChange=h+", "+f}var _={"x-placement":t.placement};return t.attributes=S({},_,t.attributes),t.styles=S({},c,t.styles),t.arrowStyles=S({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){U(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach(function(t){var i=n[t];!1!==i?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&U(t.arrowElement,t.arrowStyles);var e,n;return t},onLoad:function(t,e,n,i,r){var o=I(r,e,t,n.positionFixed),s=D(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),U(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},J={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Z},Q=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};E(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=s(this.update.bind(this)),this.options=S({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(S({},t.Defaults.modifiers,r.modifiers)).forEach(function(e){i.options.modifiers[e]=S({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return S({name:t},i.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&a(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return T(t,[{key:"update",value:function(){return function(){if(this.state.isDestroyed)return;var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=I(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=D(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=P(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=H(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}.call(this)}},{key:"destroy",value:function(){return function(){this.state.isDestroyed=!0,W(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[F("transform")]="");this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper);return this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=$(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return q.call(this)}}]),t}();return Q.Utils=("undefined"!=typeof window?window:global).PopperUtils,Q.placements=z,Q.Defaults=J,t.ui=skyalrk.ui||{},t.ui.Popper=Q}),define("skylark-bootstrap4/dropdown",["skylark-langx/langx","skylark-utils-dom/query","skylark-utils-dom/plugins","./bs4","skylark-ui-popper/Popper","./util"],function(t,e,n,i,r,o){"use strict";const s="dropdown",a="4.1.3",l="bs.dropdown",c=`.${l}`,u=e.fn[s],h=27,f=32,d=9,p=38,m=40,g=3,v=new RegExp(`${p}|${m}|${h}`),y={HIDE:`hide${c}`,HIDDEN:`hidden${c}`,SHOW:`show${c}`,SHOWN:`shown${c}`,CLICK:`click${c}`,CLICK_DATA_API:`click${c}.data-api`,KEYDOWN_DATA_API:`keydown${c}.data-api`,KEYUP_DATA_API:`keyup${c}.data-api`},_={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"},b={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"},E={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"},T={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},w={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"};class S{constructor(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}static get VERSION(){return a}static get Default(){return T}static get DefaultType(){return w}toggle(){if(this._element.disabled||e(this._element).hasClass(_.DISABLED))return;const t=S._getParentFromElement(this._element),n=e(this._menu).hasClass(_.SHOW);if(S._clearMenus(),n)return;const i={relatedTarget:this._element},s=e.Event(y.SHOW,i);if(e(t).trigger(s),!s.isDefaultPrevented()){if(!this._inNavbar){if(void 0===r)throw new TypeError("Bootstrap's dropdowns require skylark-ui-popper/Popper (https://skylark-ui-popper/Popper.org/)");let n=this._element;"parent"===this._config.reference?n=t:o.isElement(this._config.reference)&&(n=this._config.reference,typeof this._config.reference.skylark-utils-dom/query!=="undefined"&&(n=this._config.reference[0])),"scrollParent"!==this._config.boundary&&e(t).addClass(_.POSITION_STATIC),this._popper=new r(n,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===e(t).closest(b.NAVBAR_NAV).length&&e(document.body).children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass(_.SHOW),e(t).toggleClass(_.SHOW).trigger(e.Event(y.SHOWN,i))}}show(){if(this._element.disabled||e(this._element).hasClass(_.DISABLED)||e(this._menu).hasClass(_.SHOW))return;const t={relatedTarget:this._element},n=e.Event(y.SHOW,t),i=S._getParentFromElement(this._element);e(i).trigger(n),n.isDefaultPrevented()||(e(this._menu).toggleClass(_.SHOW),e(i).toggleClass(_.SHOW).trigger(e.Event(y.SHOWN,t)))}hide(){if(this._element.disabled||e(this._element).hasClass(_.DISABLED)||!e(this._menu).hasClass(_.SHOW))return;const t={relatedTarget:this._element},n=e.Event(y.HIDE,t),i=S._getParentFromElement(this._element);e(i).trigger(n),n.isDefaultPrevented()||(e(this._menu).toggleClass(_.SHOW),e(i).toggleClass(_.SHOW).trigger(e.Event(y.HIDDEN,t)))}dispose(){e.removeData(this._element,l),e(this._element).off(c),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)}update(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()}_addEventListeners(){e(this._element).on(y.CLICK,t=>{t.preventDefault(),t.stopPropagation(),this.toggle()})}_getConfig(n){return n=t.mixin({},this.constructor.Default,e(this._element).data(),n),o.typeCheckConfig(s,n,this.constructor.DefaultType),n}_getMenuElement(){if(!this._menu){const t=S._getParentFromElement(this._element);t&&(this._menu=t.querySelector(b.MENU))}return this._menu}_getPlacement(){const t=e(this._element.parentNode);let n=E.BOTTOM;return t.hasClass(_.DROPUP)?(n=E.TOP,e(this._menu).hasClass(_.MENURIGHT)&&(n=E.TOPEND)):t.hasClass(_.DROPRIGHT)?n=E.RIGHT:t.hasClass(_.DROPLEFT)?n=E.LEFT:e(this._menu).hasClass(_.MENURIGHT)&&(n=E.BOTTOMEND),n}_detectNavbar(){return e(this._element).closest(".navbar").length>0}_getPopperConfig(){const e={};"function"==typeof this._config.offset?e.fn=(e=>(t.mixin(e.offsets,this._config.offset(e.offsets)||{}),e)):e.offset=this._config.offset;const n={placement:this._getPlacement(),modifiers:{offset:e,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(n.modifiers.applyStyle={enabled:!1}),n}static _jqueryInterface(t){return this.each(function(){let n=e(this).data(l);const i="object"==typeof t?t:null;if(n||(n=new S(this,i),e(this).data(l,n)),"string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}})}static _clearMenus(t){if(t&&(t.which===g||"keyup"===t.type&&t.which!==d))return;const n=[].slice.call(document.querySelectorAll(b.DATA_TOGGLE));for(let i=0,r=n.length;i<r;i++){const r=S._getParentFromElement(n[i]),o=e(n[i]).data(l),s={relatedTarget:n[i]};if(t&&"click"===t.type&&(s.clickEvent=t),!o)continue;const a=o._menu;if(!e(r).hasClass(_.SHOW))continue;if(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&t.which===d)&&e.contains(r,t.target))continue;const c=e.Event(y.HIDE,s);e(r).trigger(c),c.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),n[i].setAttribute("aria-expanded","false"),e(a).removeClass(_.SHOW),e(r).removeClass(_.SHOW).trigger(e.Event(y.HIDDEN,s)))}}static _getParentFromElement(t){let e;const n=o.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode}static _dataApiKeydownHandler(t){if(/input|textarea/i.test(t.target.tagName)?t.which===f||t.which!==h&&(t.which!==m&&t.which!==p||e(t.target).closest(b.MENU).length):!v.test(t.which))return;if(t.preventDefault(),t.stopPropagation(),this.disabled||e(this).hasClass(_.DISABLED))return;const n=S._getParentFromElement(this),i=e(n).hasClass(_.SHOW);if(!i||i&&(t.which===h||t.which===f)){if(t.which===h){const t=n.querySelector(b.DATA_TOGGLE);e(t).trigger("focus")}return void e(this).trigger("click")}const r=[].slice.call(n.querySelectorAll(b.VISIBLE_ITEMS));if(0===r.length)return;let o=r.indexOf(t.target);t.which===p&&o>0&&o--,t.which===m&&o<r.length-1&&o++,o<0&&(o=0),r[o].focus()}}return e(document).on(y.KEYDOWN_DATA_API,b.DATA_TOGGLE,S._dataApiKeydownHandler).on(y.KEYDOWN_DATA_API,b.MENU,S._dataApiKeydownHandler).on(`${y.CLICK_DATA_API} ${y.KEYUP_DATA_API}`,S._clearMenus).on(y.CLICK_DATA_API,b.DATA_TOGGLE,function(t){t.preventDefault(),t.stopPropagation(),S._jqueryInterface.call(e(this),"toggle")}).on(y.CLICK_DATA_API,b.FORM_CHILD,t=>{t.stopPropagation()}),e.fn[s]=S._jqueryInterface,e.fn[s].Constructor=S,e.fn[s].noConflict=(()=>(e.fn[s]=u,S._jqueryInterface)),S}),define("skylark-bootstrap4/modal",["skylark-langx/langx","skylark-utils-dom/query","skylark-utils-dom/plugins","./bs4","./util"],function(t,e,n,i,r){"use strict";const o="modal",s="4.1.3",a="bs.modal",l=`.${a}`,c=e.fn[o],u=27,h={backdrop:!0,keyboard:!0,focus:!0,show:!0},f={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},d={HIDE:`hide${l}`,HIDDEN:`hidden${l}`,SHOW:`show${l}`,SHOWN:`shown${l}`,FOCUSIN:`focusin${l}`,RESIZE:`resize${l}`,CLICK_DISMISS:`click.dismiss${l}`,KEYDOWN_DISMISS:`keydown.dismiss${l}`,MOUSEUP_DISMISS:`mouseup.dismiss${l}`,MOUSEDOWN_DISMISS:`mousedown.dismiss${l}`,CLICK_DATA_API:`click${l}.data-api`},p={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},m={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"};class g{constructor(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(m.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}static get VERSION(){return s}static get Default(){return h}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||this._isTransitioning)return;e(this._element).hasClass(p.FADE)&&(this._isTransitioning=!0);const n=e.Event(d.SHOW,{relatedTarget:t});e(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on(d.CLICK_DISMISS,m.DATA_DISMISS,t=>this.hide(t)),e(this._dialog).on(d.MOUSEDOWN_DISMISS,()=>{e(this._element).one(d.MOUSEUP_DISMISS,t=>{e(t.target).is(this._element)&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(t)))}hide(t){if(t&&t.preventDefault(),!this._isShown||this._isTransitioning)return;const n=e.Event(d.HIDE);if(e(this._element).trigger(n),!this._isShown||n.isDefaultPrevented())return;this._isShown=!1;const i=e(this._element).hasClass(p.FADE);if(i&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off(d.FOCUSIN),e(this._element).removeClass(p.SHOW),e(this._element).off(d.CLICK_DISMISS),e(this._dialog).off(d.MOUSEDOWN_DISMISS),i){const t=r.getTransitionDurationFromElement(this._element);e(this._element).one(r.TRANSITION_END,t=>this._hideModal(t)).emulateTransitionEnd(t)}else this._hideModal()}dispose(){[window,this._element,this._dialog].forEach(t=>e(t).off(l)),e(document).off(d.FOCUSIN),e.removeData(this._element,a),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null}handleUpdate(){this._adjustDialog()}_getConfig(e){return e=t.mixin({},h,e),r.typeCheckConfig(o,e,f),e}_showElement(t){const n=e(this._element).hasClass(p.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.scrollTop=0,n&&r.reflow(this._element),e(this._element).addClass(p.SHOW),this._config.focus&&this._enforceFocus();const i=e.Event(d.SHOWN,{relatedTarget:t}),o=()=>{this._config.focus&&this._element.focus(),this._isTransitioning=!1,e(this._element).trigger(i)};if(n){const t=r.getTransitionDurationFromElement(this._dialog);e(this._dialog).one(r.TRANSITION_END,o).emulateTransitionEnd(t)}else o()}_enforceFocus(){e(document).off(d.FOCUSIN).on(d.FOCUSIN,t=>{document!==t.target&&this._element!==t.target&&0===e(this._element).has(t.target).length&&this._element.focus()})}_setEscapeEvent(){this._isShown&&this._config.keyboard?e(this._element).on(d.KEYDOWN_DISMISS,t=>{t.which===u&&(t.preventDefault(),this.hide())}):this._isShown||e(this._element).off(d.KEYDOWN_DISMISS)}_setResizeEvent(){this._isShown?e(window).on(d.RESIZE,t=>this.handleUpdate(t)):e(window).off(d.RESIZE)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(()=>{e(document.body).removeClass(p.OPEN),this._resetAdjustments(),this._resetScrollbar(),e(this._element).trigger(d.HIDDEN)})}_removeBackdrop(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)}_showBackdrop(t){const n=e(this._element).hasClass(p.FADE)?p.FADE:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=p.BACKDROP,n&&this._backdrop.classList.add(n),e(this._backdrop).appendTo(document.body),e(this._element).on(d.CLICK_DISMISS,t=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===this._config.backdrop?this._element.focus():this.hide())}),n&&r.reflow(this._backdrop),e(this._backdrop).addClass(p.SHOW),!t)return;if(!n)return void t();const i=r.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(r.TRANSITION_END,t).emulateTransitionEnd(i)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass(p.SHOW);const n=()=>{this._removeBackdrop(),t&&t()};if(e(this._element).hasClass(p.FADE)){const t=r.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(r.TRANSITION_END,n).emulateTransitionEnd(t)}else n()}else t&&t()}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=`${this._scrollbarWidth}px`),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=`${this._scrollbarWidth}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}_checkScrollbar(){const t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()}_setScrollbar(){if(this._isBodyOverflowing){const t=[].slice.call(document.querySelectorAll(m.FIXED_CONTENT)),n=[].slice.call(document.querySelectorAll(m.STICKY_CONTENT));e(t).each((t,n)=>{const i=n.style.paddingRight,r=e(n).css("padding-right");e(n).data("padding-right",i).css("padding-right",`${parseFloat(r)+this._scrollbarWidth}px`)}),e(n).each((t,n)=>{const i=n.style.marginRight,r=e(n).css("margin-right");e(n).data("margin-right",i).css("margin-right",`${parseFloat(r)-this._scrollbarWidth}px`)});const i=document.body.style.paddingRight,r=e(document.body).css("padding-right");e(document.body).data("padding-right",i).css("padding-right",`${parseFloat(r)+this._scrollbarWidth}px`)}e(document.body).addClass(p.OPEN)}_resetScrollbar(){const t=[].slice.call(document.querySelectorAll(m.FIXED_CONTENT));e(t).each((t,n)=>{const i=e(n).data("padding-right");e(n).removeData("padding-right"),n.style.paddingRight=i||""});const n=[].slice.call(document.querySelectorAll(`${m.STICKY_CONTENT}`));e(n).each((t,n)=>{const i=e(n).data("margin-right");void 0!==i&&e(n).css("margin-right",i).removeData("margin-right")});const i=e(document.body).data("padding-right");e(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""}_getScrollbarWidth(){const t=document.createElement("div");t.className=p.SCROLLBAR_MEASURER,document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e}static _jqueryInterface(n,i){return this.each(function(){let r=e(this).data(a);const o=t.mixin({},h,$this.data(),"object"==typeof n&&n?n:{});if(r||(r=new g(this,o),e(this).data(a,r)),"string"==typeof n){if(void 0===r[n])throw new TypeError(`No method named "${n}"`);r[n](i)}else o.show&&r.show(i)})}}return e(document).on(d.CLICK_DATA_API,m.DATA_TOGGLE,function(n){let i;const o=r.getSelectorFromElement(this);o&&(i=document.querySelector(o));const s=e(i).data(a)?"toggle":t.mixin({},e(i).data(),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||n.preventDefault();const l=e(i).one(d.SHOW,t=>{t.isDefaultPrevented()||l.one(d.HIDDEN,()=>{e(this).is(":visible")&&this.focus()})});g._jqueryInterface.call(e(i),s,this)}),e.fn[o]=g._jqueryInterface,e.fn[o].Constructor=g,e.fn[o].noConflict=(()=>(e.fn[o]=c,g._jqueryInterface)),g}),define("skylark-bootstrap4/tooltip",["skylark-langx/langx","skylark-utils-dom/query","skylark-utils-dom/plugins","./bs4","skylark-ui-popper/Popper","./util"],function(t,e,n,i,r,o){"use strict";const s="tooltip",a="4.1.3",l="bs.tooltip",c=`.${l}`,u=e.fn[s],h="bs-tooltip",f=new RegExp(`(^|\\s)${h}\\S+`,"g"),d={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},p={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},m={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},g={SHOW:"show",OUT:"out"},v={HIDE:`hide${c}`,HIDDEN:`hidden${c}`,SHOW:`show${c}`,SHOWN:`shown${c}`,INSERTED:`inserted${c}`,CLICK:`click${c}`,FOCUSIN:`focusin${c}`,FOCUSOUT:`focusout${c}`,MOUSEENTER:`mouseenter${c}`,MOUSELEAVE:`mouseleave${c}`},y={FADE:"fade",SHOW:"show"},_={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},b={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"};class E{constructor(t,e){if(void 0===r)throw new TypeError("Bootstrap's tooltips require skylark-ui-popper/Popper (https://skylark-ui-popper/Popper.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}static get VERSION(){return a}static get Default(){return m}static get NAME(){return s}static get DATA_KEY(){return l}static get Event(){return v}static get EVENT_KEY(){return c}static get DefaultType(){return d}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(t){if(this._isEnabled)if(t){const n=this.constructor.DATA_KEY;let i=e(t.currentTarget).data(n);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(e(this.getTipElement()).hasClass(y.SHOW))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null}show(){if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");const t=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(t);const n=o.findShadowRoot(this.element),i=e.contains(null!==n?n:this.element.ownerDocument.documentElement,this.element);if(t.isDefaultPrevented()||!i)return;const s=this.getTipElement(),a=o.getUID(this.constructor.NAME);s.setAttribute("id",a),this.element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&e(s).addClass(y.FADE);const l="function"==typeof this.config.placement?this.config.placement.call(this,s,this.element):this.config.placement,c=this._getAttachment(l);this.addAttachmentClass(c);const u=this._getContainer();e(s).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(s).appendTo(u),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new r(this.element,s,{placement:c,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:_.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:t=>{t.originalPlacement!==t.placement&&this._handlePopperPlacementChange(t)},onUpdate:t=>this._handlePopperPlacementChange(t)}),e(s).addClass(y.SHOW),"ontouchstart"in document.documentElement&&e(document.body).children().on("mouseover",null,e.noop);const h=()=>{this.config.animation&&this._fixTransition();const t=this._hoverState;this._hoverState=null,e(this.element).trigger(this.constructor.Event.SHOWN),t===g.OUT&&this._leave(null,this)};if(e(this.tip).hasClass(y.FADE)){const t=o.getTransitionDurationFromElement(this.tip);e(this.tip).one(o.TRANSITION_END,h).emulateTransitionEnd(t)}else h()}}hide(t){const n=this.getTipElement(),i=e.Event(this.constructor.Event.HIDE),r=()=>{this._hoverState!==g.SHOW&&n.parentNode&&n.parentNode.removeChild(n),this._cleanTipClass(),this.element.removeAttribute("aria-describedby"),e(this.element).trigger(this.constructor.Event.HIDDEN),null!==this._popper&&this._popper.destroy(),t&&t()};if(e(this.element).trigger(i),!i.isDefaultPrevented()){if(e(n).removeClass(y.SHOW),"ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),this._activeTrigger[b.CLICK]=!1,this._activeTrigger[b.FOCUS]=!1,this._activeTrigger[b.HOVER]=!1,e(this.tip).hasClass(y.FADE)){const t=o.getTransitionDurationFromElement(n);e(n).one(o.TRANSITION_END,r).emulateTransitionEnd(t)}else r();this._hoverState=""}}update(){null!==this._popper&&this._popper.scheduleUpdate()}isWithContent(){return Boolean(this.getTitle())}addAttachmentClass(t){e(this.getTipElement()).addClass(`${h}-${t}`)}getTipElement(){return this.tip=this.tip||e(this.config.template)[0],this.tip}setContent(){const t=this.getTipElement();this.setElementContent(e(t.querySelectorAll(_.TOOLTIP_INNER)),this.getTitle()),e(t).removeClass(`${y.FADE} ${y.SHOW}`)}setElementContent(t,n){const i=this.config.html;"object"==typeof n&&(n.nodeType||n.skylark-utils-dom/query)?i?e(n).parent().is(t)||t.empty().append(n):t.text(e(n).text()):t[i?"html":"text"](n)}getTitle(){let t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t}_getContainer(){return!1===this.config.container?document.body:o.isElement(this.config.container)?e(this.config.container):e(document).find(this.config.container)}_getAttachment(t){return p[t.toUpperCase()]}_setListeners(){const n=this.config.trigger.split(" ");n.forEach(t=>{if("click"===t)e(this.element).on(this.constructor.Event.CLICK,this.config.selector,t=>this.toggle(t));else if(t!==b.MANUAL){const n=t===b.HOVER?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,i=t===b.HOVER?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;e(this.element).on(n,this.config.selector,t=>this._enter(t)).on(i,this.config.selector,t=>this._leave(t))}}),e(this.element).closest(".modal").on("hide.bs.modal",()=>{this.element&&this.hide()}),this.config.selector?t.mixin(this.config,{trigger:"manual",selector:""}):this._fixTitle()}_fixTitle(){const t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))}_enter(t,n){const i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusin"===t.type?b.FOCUS:b.HOVER]=!0),e(n.getTipElement()).hasClass(y.SHOW)||n._hoverState===g.SHOW?n._hoverState=g.SHOW:(clearTimeout(n._timeout),n._hoverState=g.SHOW,n.config.delay&&n.config.delay.show?n._timeout=setTimeout(()=>{n._hoverState===g.SHOW&&n.show()},n.config.delay.show):n.show())}_leave(t,n){const i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusout"===t.type?b.FOCUS:b.HOVER]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState=g.OUT,n.config.delay&&n.config.delay.hide?n._timeout=setTimeout(()=>{n._hoverState===g.OUT&&n.hide()},n.config.delay.hide):n.hide())}_isWithActiveTrigger(){for(const t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1}_getConfig(n){return"number"==typeof(n=t.mixin({},this.constructor.Default,e(this.element).data(),n)).delay&&(n.delay={show:n.delay,hide:n.delay}),"number"==typeof n.title&&(n.title=n.title.toString()),"number"==typeof n.content&&(n.content=n.content.toString()),o.typeCheckConfig(s,n,this.constructor.DefaultType),n}_getDelegateConfig(){const t={};if(this.config)for(const e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t}_cleanTipClass(){const t=e(this.getTipElement()),n=t.attr("class").match(f);null!==n&&n.length&&t.removeClass(n.join(""))}_handlePopperPlacementChange(t){const e=t.instance;this.tip=e.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))}_fixTransition(){const t=this.getTipElement(),n=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass(y.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)}static _jqueryInterface(t){return this.each(function(){let n=e(this).data(l);const i="object"==typeof t&&t;if((n||!/dispose|hide/.test(t))&&(n||(n=new E(this,i),e(this).data(l,n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}})}}return e.fn[s]=E._jqueryInterface,e.fn[s].Constructor=E,e.fn[s].noConflict=(()=>(e.fn[s]=u,E._jqueryInterface)),E}),define("skylark-bootstrap4/popover",["skylark-utils-dom/langx","skylark-utils-dom/query","skylark-utils-dom/plugins","./bs4","./tooltip"],function(t,e,n,i,r){"use strict";const o="popover",s="4.1.3",a="bs.popover",l=`.${a}`,c=e.fn[o],u="bs-popover",h=new RegExp(`(^|\\s)${u}\\S+`,"g"),f=t.mixin({},r.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),d=t.mixin({},r.DefaultType,{content:"(string|element|function)"}),p={FADE:"fade",SHOW:"show"},m={TITLE:".popover-header",CONTENT:".popover-body"},g={HIDE:`hide${l}`,HIDDEN:`hidden${l}`,SHOW:`show${l}`,SHOWN:`shown${l}`,INSERTED:`inserted${l}`,CLICK:`click${l}`,FOCUSIN:`focusin${l}`,FOCUSOUT:`focusout${l}`,MOUSEENTER:`mouseenter${l}`,MOUSELEAVE:`mouseleave${l}`};class v extends r{static get VERSION(){return s}static get Default(){return f}static get NAME(){return o}static get DATA_KEY(){return a}static get Event(){return g}static get EVENT_KEY(){return l}static get DefaultType(){return d}isWithContent(){return this.getTitle()||this._getContent()}addAttachmentClass(t){e(this.getTipElement()).addClass(`${u}-${t}`)}getTipElement(){return this.tip=this.tip||e(this.config.template)[0],this.tip}setContent(){const t=e(this.getTipElement());this.setElementContent(t.find(m.TITLE),this.getTitle());let n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(t.find(m.CONTENT),n),t.removeClass(`${p.FADE} ${p.SHOW}`)}_getContent(){return this.element.getAttribute("data-content")||this.config.content}_cleanTipClass(){const t=e(this.getTipElement()),n=t.attr("class").match(h);null!==n&&n.length>0&&t.removeClass(n.join(""))}static _jqueryInterface(t){return this.each(function(){let n=e(this).data(a);const i="object"==typeof t?t:null;if((n||!/dispose|hide/.test(t))&&(n||(n=new v(this,i),e(this).data(a,n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}})}}return e.fn[o]=v._jqueryInterface,e.fn[o].Constructor=v,e.fn[o].noConflict=(()=>(e.fn[o]=c,v._jqueryInterface)),v}),define("skylark-bootstrap4/scrollspy",["skylark-utils-dom/query","skylark-utils-dom/plugins","./bs4","./util"],function(t,e,n,i){"use strict";const r="scrollspy",o="4.1.3",s="bs.scrollspy",a=`.${s}`,l=t.fn[r],c={offset:10,method:"auto",target:""},u={offset:"number",method:"string",target:"(string|element)"},h={ACTIVATE:`activate${a}`,SCROLL:`scroll${a}`,LOAD_DATA_API:`load${a}.data-api`},f={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},d={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},p={OFFSET:"offset",POSITION:"position"};class m{constructor(e,n){this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(n),this._selector=`${this._config.target} ${d.NAV_LINKS},`+`${this._config.target} ${d.LIST_ITEMS},`+`${this._config.target} ${d.DROPDOWN_ITEMS}`,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on(h.SCROLL,t=>this._process(t)),this.refresh(),this._process()}static get VERSION(){return o}static get Default(){return c}refresh(){const e=this._scrollElement===this._scrollElement.window?p.OFFSET:p.POSITION,n="auto"===this._config.method?e:this._config.method,r=n===p.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();const o=[].slice.call(document.querySelectorAll(this._selector));o.map(e=>{let o;const s=i.getSelectorFromElement(e);if(s&&(o=document.querySelector(s)),o){const e=o.getBoundingClientRect();if(e.width||e.height)return[t(o)[n]().top+r,s]}return null}).filter(t=>t).sort((t,e)=>t[0]-e[0]).forEach(t=>{this._offsets.push(t[0]),this._targets.push(t[1])})}dispose(){t.removeData(this._element,s),t(this._scrollElement).off(a),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null}_getConfig(e){if("string"!=typeof(e=langx.mixin({},c,"object"==typeof e&&e?e:{})).target){let n=t(e.target).attr("id");n||(n=i.getUID(r),t(e.target).attr("id",n)),e.target=`#${n}`}return i.typeCheckConfig(r,e,u),e}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){const t=this._targets[this._targets.length-1];return void(this._activeTarget!==t&&this._activate(t))}if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();const i=this._offsets.length;for(let e=i;e--;){const n=this._activeTarget!==this._targets[e]&&t>=this._offsets[e]&&(void 0===this._offsets[e+1]||t<this._offsets[e+1]);n&&this._activate(this._targets[e])}}_activate(e){this._activeTarget=e,this._clear();const n=this._selector.split(",").map(t=>`${t}[data-target="${e}"],${t}[href="${e}"]`),i=t([].slice.call(document.querySelectorAll(n.join(","))));i.hasClass(f.DROPDOWN_ITEM)?(i.closest(d.DROPDOWN).find(d.DROPDOWN_TOGGLE).addClass(f.ACTIVE),i.addClass(f.ACTIVE)):(i.addClass(f.ACTIVE),i.parents(d.NAV_LIST_GROUP).prev(`${d.NAV_LINKS}, ${d.LIST_ITEMS}`).addClass(f.ACTIVE),i.parents(d.NAV_LIST_GROUP).prev(d.NAV_ITEMS).children(d.NAV_LINKS).addClass(f.ACTIVE)),t(this._scrollElement).trigger(h.ACTIVATE,{relatedTarget:e})}_clear(){[].slice.call(document.querySelectorAll(this._selector)).filter(t=>t.classList.contains(f.ACTIVE)).forEach(t=>t.classList.remove(f.ACTIVE))}static _jqueryInterface(e){return this.each(function(){let n=t(this).data(s);const i="object"==typeof e&&e;if(n||(n=new m(this,i),t(this).data(s,n)),"string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e]()}})}}return t(window).on(h.LOAD_DATA_API,()=>{const e=[].slice.call(document.querySelectorAll(d.DATA_SPY)),n=e.length;for(let i=n;i--;){const n=t(e[i]);m._jqueryInterface.call(n,n.data())}}),t.fn[r]=m._jqueryInterface,t.fn[r].Constructor=m,t.fn[r].noConflict=(()=>(t.fn[r]=l,m._jqueryInterface)),m}),define("skylark-bootstrap4/tab",["skylark-langx/langx","skylark-utils-dom/eventer","skylark-utils-dom/query","skylark-utils-dom/plugins","./bs4","./util"],function(t,e,n,i,r,o){"use strict";const s="4.1.3",a="bs.tab",l=`.${a}`,c=n.fn.tab,u={HIDE:`hide${l}`,HIDDEN:`hidden${l}`,SHOW:`show${l}`,SHOWN:`shown${l}`,CLICK_DATA_API:`click${l}.data-api`},h={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},f={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"};class d{constructor(t){this._element=t}static get VERSION(){return s}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&n(this._element).hasClass(h.ACTIVE)||n(this._element).hasClass(h.DISABLED))return;let i,r;const s=n(this._element).closest(f.NAV_LIST_GROUP)[0],a=o.getSelectorFromElement(this._element);if(s){const e="UL"===s.nodeName||"OL"===s.nodeName?f.ACTIVE_UL:f.ACTIVE;r=(r=t.makeArray(n(s).find(e)))[r.length-1]}const l=e.create(u.HIDE,{relatedTarget:this._element}),c=e.create(u.SHOW,{relatedTarget:r});if(r&&n(r).trigger(l),n(this._element).trigger(c),c.isDefaultPrevented()||l.isDefaultPrevented())return;a&&(i=document.querySelector(a)),this._activate(this._element,s);const d=()=>{const t=n.Event(u.HIDDEN,{relatedTarget:this._element}),e=n.Event(u.SHOWN,{relatedTarget:r});n(r).trigger(t),n(this._element).trigger(e)};i?this._activate(i,i.parentNode,d):d()}dispose(){n.removeData(this._element,a),this._element=null}_activate(t,e,i){const r=!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?n(e).children(f.ACTIVE):n(e).find(f.ACTIVE_UL),s=r[0],a=i&&s&&n(s).hasClass(h.FADE),l=()=>this._transitionComplete(t,s,i);if(s&&a){const t=o.getTransitionDurationFromElement(s);n(s).removeClass(h.SHOW).one(o.TRANSITION_END,l).emulateTransitionEnd(t)}else l()}_transitionComplete(t,e,i){if(e){n(e).removeClass(h.ACTIVE);const t=n(e.parentNode).find(f.DROPDOWN_ACTIVE_CHILD)[0];t&&n(t).removeClass(h.ACTIVE),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}if(n(t).addClass(h.ACTIVE),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),o.reflow(t),n(t).addClass(h.SHOW),t.parentNode&&n(t.parentNode).hasClass(h.DROPDOWN_MENU)){const e=n(t).closest(f.DROPDOWN)[0];if(e){const t=[].slice.call(e.querySelectorAll(f.DROPDOWN_TOGGLE));n(t).addClass(h.ACTIVE)}t.setAttribute("aria-expanded",!0)}i&&i()}static _jqueryInterface(t){return this.each(function(){const e=n(this);let i=e.data(a);if(i||(i=new d(this),e.data(a,i)),"string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}})}}return n(document).on(u.CLICK_DATA_API,f.DATA_TOGGLE,function(t){t.preventDefault(),d._jqueryInterface.call(n(this),"show")}),n.fn.tab=d._jqueryInterface,n.fn.tab.Constructor=d,n.fn.tab.noConflict=(()=>(n.fn.tab=c,d._jqueryInterface)),d}),define("skylark-bootstrap4/toast",["skylark-langx/langx","skylark-utils-dom/query","skylark-utils-dom/plugins","./bs4","./util"],function(t,e,n,i,r){"use strict";const o="toast",s="4.1.3",a="bs.toast",l=`.${a}`,c=e.fn[o],u={CLICK_DISMISS:`click.dismiss${l}`,HIDE:`hide${l}`,HIDDEN:`hidden${l}`,SHOW:`show${l}`,SHOWN:`shown${l}`},h={FADE:"fade",HIDE:"hide",SHOW:"show",SHOWING:"showing"},f={animation:"boolean",autohide:"boolean",delay:"number"},d={animation:!0,autohide:!0,delay:500},p={DATA_DISMISS:'[data-dismiss="toast"]'};class m{constructor(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}static get VERSION(){return s}static get DefaultType(){return f}show(){e(this._element).trigger(u.SHOW),this._config.animation&&this._element.classList.add(h.FADE);const t=()=>{this._element.classList.remove(h.SHOWING),this._element.classList.add(h.SHOW),e(this._element).trigger(u.SHOWN),this._config.autohide&&this.hide()};if(this._element.classList.remove(h.HIDE),this._element.classList.add(h.SHOWING),this._config.animation){const n=r.getTransitionDurationFromElement(this._element);e(this._element).one(r.TRANSITION_END,t).emulateTransitionEnd(n)}else t()}hide(t){this._element.classList.contains(h.SHOW)&&(e(this._element).trigger(u.HIDE),t?this._close():this._timeout=setTimeout(()=>{this._close()},this._config.delay))}dispose(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(h.SHOW)&&this._element.classList.remove(h.SHOW),e(this._element).off(u.CLICK_DISMISS),e.removeData(this._element,a),this._element=null,this._config=null}_getConfig(n){t.mixin({},d,e(this._element).data(),"object"==typeof n&&n?n:{});return r.typeCheckConfig(o,n,this.constructor.DefaultType),n}_setListeners(){e(this._element).on(u.CLICK_DISMISS,p.DATA_DISMISS,()=>this.hide(!0))}_close(){const t=()=>{this._element.classList.add(h.HIDE),e(this._element).trigger(u.HIDDEN)};if(this._element.classList.remove(h.SHOW),this._config.animation){const n=r.getTransitionDurationFromElement(this._element);e(this._element).one(r.TRANSITION_END,t).emulateTransitionEnd(n)}else t()}static _jqueryInterface(t){return this.each(function(){const n=e(this);let i=n.data(a);const r="object"==typeof t&&t;if(i||(i=new m(this,r),n.data(a,i)),"string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t](this)}})}}return e.fn[o]=m._jqueryInterface,e.fn[o].Constructor=m,e.fn[o].noConflict=(()=>(e.fn[o]=c,m._jqueryInterface)),m}),define("skylark-bootstrap4/main",["skylark-utils-dom/query","./alert","./button","./carousel","./collapse","./dropdown","./modal","./popover","./scrollspy","./tab","./toast","./tooltip","./util"],function(t){return t}),define("skylark-bootstrap4",["skylark-bootstrap4/main"],function(t){return t})}(define,require),!isAmd){var skylarkjs=require("skylark-langx/skylark");isCmd?module.exports=skylarkjs:globals.skylarkjs=skylarkjs}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-bootstrap4-all.js.map
