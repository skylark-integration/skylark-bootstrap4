{"version":3,"sources":["modal.js"],"names":["define","langx","$","eventer","plugins","bs4","Util","NAME","VERSION","DATA_KEY","EVENT_KEY","jquery_NO_CONFLICT","fn","ESCAPE_KEYCODE","Default","backdrop","keyboard","focus","show","DefaultType","Event","HIDE","HIDDEN","SHOW","SHOWN","FOCUSIN","RESIZE","CLICK_DISMISS","KEYDOWN_DISMISS","MOUSEUP_DISMISS","MOUSEDOWN_DISMISS","CLICK_DATA_API","ClassName","SCROLLBAR_MEASURER","BACKDROP","OPEN","FADE","Selector","DIALOG","DATA_TOGGLE","DATA_DISMISS","FIXED_CONTENT","STICKY_CONTENT","Modal","[object Object]","element","config","this","_config","_getConfig","_element","_dialog","querySelector","_backdrop","_isShown","_isBodyOverflowing","_ignoreBackdropClick","_isTransitioning","_scrollbarWidth","relatedTarget","hide","hasClass","showEvent","create","trigger","isDefaultPrevented","_checkScrollbar","_setScrollbar","_adjustDialog","_setEscapeEvent","_setResizeEvent","on","event","one","target","is","_showBackdrop","_showElement","preventDefault","hideEvent","transition","document","off","removeClass","transitionDuration","getTransitionDurationFromElement","TRANSITION_END","_hideModal","emulateTransitionEnd","window","forEach","htmlElement","removeData","mixin","typeCheckConfig","parentNode","nodeType","Node","ELEMENT_NODE","body","appendChild","style","display","removeAttribute","setAttribute","scrollTop","reflow","addClass","_enforceFocus","shownEvent","transitionComplete","has","length","which","handleUpdate","_resetAdjustments","_resetScrollbar","remove","callback","animate","createElement","className","classList","add","appendTo","currentTarget","backdropTransitionDuration","callbackRemove","_removeBackdrop","isModalOverflowing","scrollHeight","documentElement","clientHeight","paddingLeft","paddingRight","rect","getBoundingClientRect","left","right","innerWidth","_getScrollbarWidth","fixedContent","slice","call","querySelectorAll","stickyContent","each","index","actualPadding","calculatedPadding","css","data","parseFloat","actualMargin","marginRight","calculatedMargin","padding","elements","margin","scrollDiv","scrollbarWidth","width","clientWidth","removeChild","$this","TypeError","selector","getSelectorFromElement","tagName","$target","_jqueryInterface","Constructor","noConflict"],"mappings":"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","file":"../modal.js","sourcesContent":["define([\n    'skylark-langx/langx',\n    'skylark-utils-dom/query',\n    'skylark-utils-dom/eventer',\n    'skylark-utils-dom/plugins',\n    \"./bs4\",\n    './util'\n], function (langx,$, eventer,plugins,bs4,Util) {\n\n\n    'use strict';\n    const NAME = 'modal';\n    const VERSION = '4.1.3';\n    const DATA_KEY = 'bs.modal';\n    const EVENT_KEY = `.${ DATA_KEY }`;\n    const DATA_API_KEY = '.data-api';\n    const jquery_NO_CONFLICT = $.fn[NAME];\n    const ESCAPE_KEYCODE = 27;\n    const Default = {\n        backdrop: true,\n        keyboard: true,\n        focus: true,\n        show: true\n    };\n    const DefaultType = {\n        backdrop: '(boolean|string)',\n        keyboard: 'boolean',\n        focus: 'boolean',\n        show: 'boolean'\n    };\n    const Event = {\n        HIDE: `hide${ EVENT_KEY }`,\n        HIDDEN: `hidden${ EVENT_KEY }`,\n        SHOW: `show${ EVENT_KEY }`,\n        SHOWN: `shown${ EVENT_KEY }`,\n        FOCUSIN: `focusin${ EVENT_KEY }`,\n        RESIZE: `resize${ EVENT_KEY }`,\n        CLICK_DISMISS: `click.dismiss${ EVENT_KEY }`,\n        KEYDOWN_DISMISS: `keydown.dismiss${ EVENT_KEY }`,\n        MOUSEUP_DISMISS: `mouseup.dismiss${ EVENT_KEY }`,\n        MOUSEDOWN_DISMISS: `mousedown.dismiss${ EVENT_KEY }`,\n        CLICK_DATA_API: `click${ EVENT_KEY }${ DATA_API_KEY }`\n    };\n    const ClassName = {\n        SCROLLBAR_MEASURER: 'modal-scrollbar-measure',\n        BACKDROP: 'modal-backdrop',\n        OPEN: 'modal-open',\n        FADE: 'fade',\n        SHOW: 'show'\n    };\n    const Selector = {\n        DIALOG: '.modal-dialog',\n        DATA_TOGGLE: '[data-toggle=\"modal\"]',\n        DATA_DISMISS: '[data-dismiss=\"modal\"]',\n        FIXED_CONTENT: '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top',\n        STICKY_CONTENT: '.sticky-top'\n    };\n    class Modal {\n        constructor(element, config) {\n            this._config = this._getConfig(config);\n            this._element = element;\n            this._dialog = element.querySelector(Selector.DIALOG);\n            this._backdrop = null;\n            this._isShown = false;\n            this._isBodyOverflowing = false;\n            this._ignoreBackdropClick = false;\n            this._isTransitioning = false;\n            this._scrollbarWidth = 0;\n        }\n        static get VERSION() {\n            return VERSION;\n        }\n        static get Default() {\n            return Default;\n        }\n        toggle(relatedTarget) {\n            return this._isShown ? this.hide() : this.show(relatedTarget);\n        }\n        show(relatedTarget) {\n            if (this._isShown || this._isTransitioning) {\n                return;\n            }\n            if ($(this._element).hasClass(ClassName.FADE)) {\n                this._isTransitioning = true;\n            }\n            const showEvent = eventer.create(Event.SHOW, { relatedTarget });\n            $(this._element).trigger(showEvent);\n            if (this._isShown || showEvent.isDefaultPrevented()) {\n                return;\n            }\n            this._isShown = true;\n            this._checkScrollbar();\n            this._setScrollbar();\n            this._adjustDialog();\n            this._setEscapeEvent();\n            this._setResizeEvent();\n            $(this._element).on(Event.CLICK_DISMISS, Selector.DATA_DISMISS, event => this.hide(event));\n            $(this._dialog).on(Event.MOUSEDOWN_DISMISS, () => {\n                $(this._element).one(Event.MOUSEUP_DISMISS, event => {\n                    if ($(event.target).is(this._element)) {\n                        this._ignoreBackdropClick = true;\n                    }\n                });\n            });\n            this._showBackdrop(() => this._showElement(relatedTarget));\n        }\n        hide(event) {\n            if (event) {\n                event.preventDefault();\n            }\n            if (!this._isShown || this._isTransitioning) {\n                return;\n            }\n            const hideEvent = eventer.create(Event.HIDE);\n            $(this._element).trigger(hideEvent);\n            if (!this._isShown || hideEvent.isDefaultPrevented()) {\n                return;\n            }\n            this._isShown = false;\n            const transition = $(this._element).hasClass(ClassName.FADE);\n            if (transition) {\n                this._isTransitioning = true;\n            }\n            this._setEscapeEvent();\n            this._setResizeEvent();\n            $(document).off(Event.FOCUSIN);\n            $(this._element).removeClass(ClassName.SHOW);\n            $(this._element).off(Event.CLICK_DISMISS);\n            $(this._dialog).off(Event.MOUSEDOWN_DISMISS);\n            if (transition) {\n                const transitionDuration = Util.getTransitionDurationFromElement(this._element);\n                $(this._element).one(Util.TRANSITION_END, event => this._hideModal(event)).emulateTransitionEnd(transitionDuration);\n            } else {\n                this._hideModal();\n            }\n        }\n        dispose() {\n            [\n                window,\n                this._element,\n                this._dialog\n            ].forEach(htmlElement => $(htmlElement).off(EVENT_KEY));\n            $(document).off(Event.FOCUSIN);\n            $.removeData(this._element, DATA_KEY);\n            this._config = null;\n            this._element = null;\n            this._dialog = null;\n            this._backdrop = null;\n            this._isShown = null;\n            this._isBodyOverflowing = null;\n            this._ignoreBackdropClick = null;\n            this._isTransitioning = null;\n            this._scrollbarWidth = null;\n        }\n        handleUpdate() {\n            this._adjustDialog();\n        }\n        _getConfig(config) {\n            //config = {\n            //    ...Default,\n            //    ...config\n            //};\n            config = langx.mixin({},Default,config);\n\n            Util.typeCheckConfig(NAME, config, DefaultType);\n            return config;\n        }\n        _showElement(relatedTarget) {\n            const transition = $(this._element).hasClass(ClassName.FADE);\n            if (!this._element.parentNode || this._element.parentNode.nodeType !== Node.ELEMENT_NODE) {\n                document.body.appendChild(this._element);\n            }\n            this._element.style.display = 'block';\n            this._element.removeAttribute('aria-hidden');\n            this._element.setAttribute('aria-modal', true);\n            this._element.scrollTop = 0;\n            if (transition) {\n                Util.reflow(this._element);\n            }\n            $(this._element).addClass(ClassName.SHOW);\n            if (this._config.focus) {\n                this._enforceFocus();\n            }\n            const shownEvent = eventer.create(Event.SHOWN, { relatedTarget });\n            const transitionComplete = () => {\n                if (this._config.focus) {\n                    this._element.focus();\n                }\n                this._isTransitioning = false;\n                $(this._element).trigger(shownEvent);\n            };\n            if (transition) {\n                const transitionDuration = Util.getTransitionDurationFromElement(this._dialog);\n                $(this._dialog).one(Util.TRANSITION_END, transitionComplete).emulateTransitionEnd(transitionDuration);\n            } else {\n                transitionComplete();\n            }\n        }\n        _enforceFocus() {\n            $(document).off(Event.FOCUSIN).on(Event.FOCUSIN, event => {\n                if (document !== event.target && this._element !== event.target && $(this._element).has(event.target).length === 0) {\n                    this._element.focus();\n                }\n            });\n        }\n        _setEscapeEvent() {\n            if (this._isShown && this._config.keyboard) {\n                $(this._element).on(Event.KEYDOWN_DISMISS, event => {\n                    if (event.which === ESCAPE_KEYCODE) {\n                        event.preventDefault();\n                        this.hide();\n                    }\n                });\n            } else if (!this._isShown) {\n                $(this._element).off(Event.KEYDOWN_DISMISS);\n            }\n        }\n        _setResizeEvent() {\n            if (this._isShown) {\n                $(window).on(Event.RESIZE, event => this.handleUpdate(event));\n            } else {\n                $(window).off(Event.RESIZE);\n            }\n        }\n        _hideModal() {\n            this._element.style.display = 'none';\n            this._element.setAttribute('aria-hidden', true);\n            this._element.removeAttribute('aria-modal');\n            this._isTransitioning = false;\n            this._showBackdrop(() => {\n                $(document.body).removeClass(ClassName.OPEN);\n                this._resetAdjustments();\n                this._resetScrollbar();\n                $(this._element).trigger(Event.HIDDEN);\n            });\n        }\n        _removeBackdrop() {\n            if (this._backdrop) {\n                $(this._backdrop).remove();\n                this._backdrop = null;\n            }\n        }\n        _showBackdrop(callback) {\n            const animate = $(this._element).hasClass(ClassName.FADE) ? ClassName.FADE : '';\n            if (this._isShown && this._config.backdrop) {\n                this._backdrop = document.createElement('div');\n                this._backdrop.className = ClassName.BACKDROP;\n                if (animate) {\n                    this._backdrop.classList.add(animate);\n                }\n                $(this._backdrop).appendTo(document.body);\n                $(this._element).on(Event.CLICK_DISMISS, event => {\n                    if (this._ignoreBackdropClick) {\n                        this._ignoreBackdropClick = false;\n                        return;\n                    }\n                    if (event.target !== event.currentTarget) {\n                        return;\n                    }\n                    if (this._config.backdrop === 'static') {\n                        this._element.focus();\n                    } else {\n                        this.hide();\n                    }\n                });\n                if (animate) {\n                    Util.reflow(this._backdrop);\n                }\n                $(this._backdrop).addClass(ClassName.SHOW);\n                if (!callback) {\n                    return;\n                }\n                if (!animate) {\n                    callback();\n                    return;\n                }\n                const backdropTransitionDuration = Util.getTransitionDurationFromElement(this._backdrop);\n                $(this._backdrop).one(Util.TRANSITION_END, callback).emulateTransitionEnd(backdropTransitionDuration);\n            } else if (!this._isShown && this._backdrop) {\n                $(this._backdrop).removeClass(ClassName.SHOW);\n                const callbackRemove = () => {\n                    this._removeBackdrop();\n                    if (callback) {\n                        callback();\n                    }\n                };\n                if ($(this._element).hasClass(ClassName.FADE)) {\n                    const backdropTransitionDuration = Util.getTransitionDurationFromElement(this._backdrop);\n                    $(this._backdrop).one(Util.TRANSITION_END, callbackRemove).emulateTransitionEnd(backdropTransitionDuration);\n                } else {\n                    callbackRemove();\n                }\n            } else if (callback) {\n                callback();\n            }\n        }\n        _adjustDialog() {\n            const isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight;\n            if (!this._isBodyOverflowing && isModalOverflowing) {\n                this._element.style.paddingLeft = `${ this._scrollbarWidth }px`;\n            }\n            if (this._isBodyOverflowing && !isModalOverflowing) {\n                this._element.style.paddingRight = `${ this._scrollbarWidth }px`;\n            }\n        }\n        _resetAdjustments() {\n            this._element.style.paddingLeft = '';\n            this._element.style.paddingRight = '';\n        }\n        _checkScrollbar() {\n            const rect = document.body.getBoundingClientRect();\n            this._isBodyOverflowing = rect.left + rect.right < window.innerWidth;\n            this._scrollbarWidth = this._getScrollbarWidth();\n        }\n        _setScrollbar() {\n            if (this._isBodyOverflowing) {\n                const fixedContent = [].slice.call(document.querySelectorAll(Selector.FIXED_CONTENT));\n                const stickyContent = [].slice.call(document.querySelectorAll(Selector.STICKY_CONTENT));\n                $(fixedContent).each((index, element) => {\n                    const actualPadding = element.style.paddingRight;\n                    const calculatedPadding = $(element).css('padding-right');\n                    $(element).data('padding-right', actualPadding).css('padding-right', `${ parseFloat(calculatedPadding) + this._scrollbarWidth }px`);\n                });\n                $(stickyContent).each((index, element) => {\n                    const actualMargin = element.style.marginRight;\n                    const calculatedMargin = $(element).css('margin-right');\n                    $(element).data('margin-right', actualMargin).css('margin-right', `${ parseFloat(calculatedMargin) - this._scrollbarWidth }px`);\n                });\n                const actualPadding = document.body.style.paddingRight;\n                const calculatedPadding = $(document.body).css('padding-right');\n                $(document.body).data('padding-right', actualPadding).css('padding-right', `${ parseFloat(calculatedPadding) + this._scrollbarWidth }px`);\n            }\n            $(document.body).addClass(ClassName.OPEN);\n        }\n        _resetScrollbar() {\n            const fixedContent = [].slice.call(document.querySelectorAll(Selector.FIXED_CONTENT));\n            $(fixedContent).each((index, element) => {\n                const padding = $(element).data('padding-right');\n                $(element).removeData('padding-right');\n                element.style.paddingRight = padding ? padding : '';\n            });\n            const elements = [].slice.call(document.querySelectorAll(`${ Selector.STICKY_CONTENT }`));\n            $(elements).each((index, element) => {\n                const margin = $(element).data('margin-right');\n                if (typeof margin !== 'undefined') {\n                    $(element).css('margin-right', margin).removeData('margin-right');\n                }\n            });\n            const padding = $(document.body).data('padding-right');\n            $(document.body).removeData('padding-right');\n            document.body.style.paddingRight = padding ? padding : '';\n        }\n        _getScrollbarWidth() {\n            const scrollDiv = document.createElement('div');\n            scrollDiv.className = ClassName.SCROLLBAR_MEASURER;\n            document.body.appendChild(scrollDiv);\n            const scrollbarWidth = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth;\n            document.body.removeChild(scrollDiv);\n            return scrollbarWidth;\n        }\n        static _jqueryInterface(config, relatedTarget) {\n            return this.each(function () {\n                let data = $(this).data(DATA_KEY);\n                //const _config = {\n                //    ...Default,\n                //    ...$this.data(),\n                //    ...typeof config === 'object' && config ? config : {}\n                //};\n                const _config = langx.mixin({},Default,$this.data(),typeof config === 'object' && config ? config : {});\n                if (!data) {\n                    data = new Modal(this, _config);\n                    $(this).data(DATA_KEY, data);\n                }\n                if (typeof config === 'string') {\n                    if (typeof data[config] === 'undefined') {\n                        throw new TypeError(`No method named \"${ config }\"`);\n                    }\n                    data[config](relatedTarget);\n                } else if (_config.show) {\n                    data.show(relatedTarget);\n                }\n            });\n        }\n    }\n    $(document).on(Event.CLICK_DATA_API, Selector.DATA_TOGGLE, function (event) {\n        let target;\n        const selector = Util.getSelectorFromElement(this);\n        if (selector) {\n            target = document.querySelector(selector);\n        }\n        //const config = $(target).data(DATA_KEY) ? 'toggle' : {\n        //    ...$(target).data(),\n        //    ...$(this).data()\n        //};\n        const config = $(target).data(DATA_KEY) ? 'toggle' : langx.mixin({},$(target).data(),$(this).data());\n        if (this.tagName === 'A' || this.tagName === 'AREA') {\n            event.preventDefault();\n        }\n        const $target = $(target).one(Event.SHOW, showEvent => {\n            if (showEvent.isDefaultPrevented()) {\n                return;\n            }\n            $target.one(Event.HIDDEN, () => {\n                if ($(this).is(':visible')) {\n                    this.focus();\n                }\n            });\n        });\n        Modal._jqueryInterface.call($(target), config, this);\n    });\n    $.fn[NAME] = Modal._jqueryInterface;\n    $.fn[NAME].Constructor = Modal;\n    $.fn[NAME].noConflict = () => {\n        $.fn[NAME] = jquery_NO_CONFLICT;\n        return Modal._jqueryInterface;\n    };\n    return Modal;\n});"]}