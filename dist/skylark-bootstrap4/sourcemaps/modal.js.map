{"version":3,"sources":["modal.js"],"names":["define","langx","$","plugins","bs4","Util","NAME","VERSION","DATA_KEY","EVENT_KEY","jquery_NO_CONFLICT","fn","ESCAPE_KEYCODE","Default","backdrop","keyboard","focus","show","DefaultType","Event","HIDE","HIDDEN","SHOW","SHOWN","FOCUSIN","RESIZE","CLICK_DISMISS","KEYDOWN_DISMISS","MOUSEUP_DISMISS","MOUSEDOWN_DISMISS","CLICK_DATA_API","ClassName","SCROLLBAR_MEASURER","BACKDROP","OPEN","FADE","Selector","DIALOG","DATA_TOGGLE","DATA_DISMISS","FIXED_CONTENT","STICKY_CONTENT","Modal","[object Object]","element","config","this","_config","_getConfig","_element","_dialog","querySelector","_backdrop","_isShown","_isBodyOverflowing","_ignoreBackdropClick","_isTransitioning","_scrollbarWidth","relatedTarget","hide","hasClass","showEvent","trigger","isDefaultPrevented","_checkScrollbar","_setScrollbar","_adjustDialog","_setEscapeEvent","_setResizeEvent","on","event","one","target","is","_showBackdrop","_showElement","preventDefault","hideEvent","transition","document","off","removeClass","transitionDuration","getTransitionDurationFromElement","TRANSITION_END","_hideModal","emulateTransitionEnd","window","forEach","htmlElement","removeData","mixin","typeCheckConfig","parentNode","nodeType","Node","ELEMENT_NODE","body","appendChild","style","display","removeAttribute","setAttribute","scrollTop","reflow","addClass","_enforceFocus","shownEvent","transitionComplete","has","length","which","handleUpdate","_resetAdjustments","_resetScrollbar","remove","callback","animate","createElement","className","classList","add","appendTo","currentTarget","backdropTransitionDuration","callbackRemove","_removeBackdrop","isModalOverflowing","scrollHeight","documentElement","clientHeight","paddingLeft","paddingRight","rect","getBoundingClientRect","left","right","innerWidth","_getScrollbarWidth","fixedContent","slice","call","querySelectorAll","stickyContent","each","index","actualPadding","calculatedPadding","css","data","parseFloat","actualMargin","marginRight","calculatedMargin","padding","elements","margin","scrollDiv","scrollbarWidth","width","clientWidth","removeChild","$this","TypeError","selector","getSelectorFromElement","tagName","$target","_jqueryInterface","Constructor","noConflict"],"mappings":"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","file":"../modal.js","sourcesContent":["define([\n    'skylark-langx/langx',\n    'skylark-utils-dom/query',\n    'skylark-utils-dom/plugins',\n    \"./bs4\",\n    './util'\n], function (langx,$, plugins,bs4,Util) {\n\n    'use strict';\n    const NAME = 'modal';\n    const VERSION = '4.1.3';\n    const DATA_KEY = 'bs.modal';\n    const EVENT_KEY = `.${ DATA_KEY }`;\n    const DATA_API_KEY = '.data-api';\n    const jquery_NO_CONFLICT = $.fn[NAME];\n    const ESCAPE_KEYCODE = 27;\n    const Default = {\n        backdrop: true,\n        keyboard: true,\n        focus: true,\n        show: true\n    };\n    const DefaultType = {\n        backdrop: '(boolean|string)',\n        keyboard: 'boolean',\n        focus: 'boolean',\n        show: 'boolean'\n    };\n    const Event = {\n        HIDE: `hide${ EVENT_KEY }`,\n        HIDDEN: `hidden${ EVENT_KEY }`,\n        SHOW: `show${ EVENT_KEY }`,\n        SHOWN: `shown${ EVENT_KEY }`,\n        FOCUSIN: `focusin${ EVENT_KEY }`,\n        RESIZE: `resize${ EVENT_KEY }`,\n        CLICK_DISMISS: `click.dismiss${ EVENT_KEY }`,\n        KEYDOWN_DISMISS: `keydown.dismiss${ EVENT_KEY }`,\n        MOUSEUP_DISMISS: `mouseup.dismiss${ EVENT_KEY }`,\n        MOUSEDOWN_DISMISS: `mousedown.dismiss${ EVENT_KEY }`,\n        CLICK_DATA_API: `click${ EVENT_KEY }${ DATA_API_KEY }`\n    };\n    const ClassName = {\n        SCROLLBAR_MEASURER: 'modal-scrollbar-measure',\n        BACKDROP: 'modal-backdrop',\n        OPEN: 'modal-open',\n        FADE: 'fade',\n        SHOW: 'show'\n    };\n    const Selector = {\n        DIALOG: '.modal-dialog',\n        DATA_TOGGLE: '[data-toggle=\"modal\"]',\n        DATA_DISMISS: '[data-dismiss=\"modal\"]',\n        FIXED_CONTENT: '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top',\n        STICKY_CONTENT: '.sticky-top'\n    };\n    class Modal {\n        constructor(element, config) {\n            this._config = this._getConfig(config);\n            this._element = element;\n            this._dialog = element.querySelector(Selector.DIALOG);\n            this._backdrop = null;\n            this._isShown = false;\n            this._isBodyOverflowing = false;\n            this._ignoreBackdropClick = false;\n            this._isTransitioning = false;\n            this._scrollbarWidth = 0;\n        }\n        static get VERSION() {\n            return VERSION;\n        }\n        static get Default() {\n            return Default;\n        }\n        toggle(relatedTarget) {\n            return this._isShown ? this.hide() : this.show(relatedTarget);\n        }\n        show(relatedTarget) {\n            if (this._isShown || this._isTransitioning) {\n                return;\n            }\n            if ($(this._element).hasClass(ClassName.FADE)) {\n                this._isTransitioning = true;\n            }\n            const showEvent = $.Event(Event.SHOW, { relatedTarget });\n            $(this._element).trigger(showEvent);\n            if (this._isShown || showEvent.isDefaultPrevented()) {\n                return;\n            }\n            this._isShown = true;\n            this._checkScrollbar();\n            this._setScrollbar();\n            this._adjustDialog();\n            this._setEscapeEvent();\n            this._setResizeEvent();\n            $(this._element).on(Event.CLICK_DISMISS, Selector.DATA_DISMISS, event => this.hide(event));\n            $(this._dialog).on(Event.MOUSEDOWN_DISMISS, () => {\n                $(this._element).one(Event.MOUSEUP_DISMISS, event => {\n                    if ($(event.target).is(this._element)) {\n                        this._ignoreBackdropClick = true;\n                    }\n                });\n            });\n            this._showBackdrop(() => this._showElement(relatedTarget));\n        }\n        hide(event) {\n            if (event) {\n                event.preventDefault();\n            }\n            if (!this._isShown || this._isTransitioning) {\n                return;\n            }\n            const hideEvent = $.Event(Event.HIDE);\n            $(this._element).trigger(hideEvent);\n            if (!this._isShown || hideEvent.isDefaultPrevented()) {\n                return;\n            }\n            this._isShown = false;\n            const transition = $(this._element).hasClass(ClassName.FADE);\n            if (transition) {\n                this._isTransitioning = true;\n            }\n            this._setEscapeEvent();\n            this._setResizeEvent();\n            $(document).off(Event.FOCUSIN);\n            $(this._element).removeClass(ClassName.SHOW);\n            $(this._element).off(Event.CLICK_DISMISS);\n            $(this._dialog).off(Event.MOUSEDOWN_DISMISS);\n            if (transition) {\n                const transitionDuration = Util.getTransitionDurationFromElement(this._element);\n                $(this._element).one(Util.TRANSITION_END, event => this._hideModal(event)).emulateTransitionEnd(transitionDuration);\n            } else {\n                this._hideModal();\n            }\n        }\n        dispose() {\n            [\n                window,\n                this._element,\n                this._dialog\n            ].forEach(htmlElement => $(htmlElement).off(EVENT_KEY));\n            $(document).off(Event.FOCUSIN);\n            $.removeData(this._element, DATA_KEY);\n            this._config = null;\n            this._element = null;\n            this._dialog = null;\n            this._backdrop = null;\n            this._isShown = null;\n            this._isBodyOverflowing = null;\n            this._ignoreBackdropClick = null;\n            this._isTransitioning = null;\n            this._scrollbarWidth = null;\n        }\n        handleUpdate() {\n            this._adjustDialog();\n        }\n        _getConfig(config) {\n            //config = {\n            //    ...Default,\n            //    ...config\n            //};\n            config = langx.mixin({},Default,config);\n\n            Util.typeCheckConfig(NAME, config, DefaultType);\n            return config;\n        }\n        _showElement(relatedTarget) {\n            const transition = $(this._element).hasClass(ClassName.FADE);\n            if (!this._element.parentNode || this._element.parentNode.nodeType !== Node.ELEMENT_NODE) {\n                document.body.appendChild(this._element);\n            }\n            this._element.style.display = 'block';\n            this._element.removeAttribute('aria-hidden');\n            this._element.setAttribute('aria-modal', true);\n            this._element.scrollTop = 0;\n            if (transition) {\n                Util.reflow(this._element);\n            }\n            $(this._element).addClass(ClassName.SHOW);\n            if (this._config.focus) {\n                this._enforceFocus();\n            }\n            const shownEvent = $.Event(Event.SHOWN, { relatedTarget });\n            const transitionComplete = () => {\n                if (this._config.focus) {\n                    this._element.focus();\n                }\n                this._isTransitioning = false;\n                $(this._element).trigger(shownEvent);\n            };\n            if (transition) {\n                const transitionDuration = Util.getTransitionDurationFromElement(this._dialog);\n                $(this._dialog).one(Util.TRANSITION_END, transitionComplete).emulateTransitionEnd(transitionDuration);\n            } else {\n                transitionComplete();\n            }\n        }\n        _enforceFocus() {\n            $(document).off(Event.FOCUSIN).on(Event.FOCUSIN, event => {\n                if (document !== event.target && this._element !== event.target && $(this._element).has(event.target).length === 0) {\n                    this._element.focus();\n                }\n            });\n        }\n        _setEscapeEvent() {\n            if (this._isShown && this._config.keyboard) {\n                $(this._element).on(Event.KEYDOWN_DISMISS, event => {\n                    if (event.which === ESCAPE_KEYCODE) {\n                        event.preventDefault();\n                        this.hide();\n                    }\n                });\n            } else if (!this._isShown) {\n                $(this._element).off(Event.KEYDOWN_DISMISS);\n            }\n        }\n        _setResizeEvent() {\n            if (this._isShown) {\n                $(window).on(Event.RESIZE, event => this.handleUpdate(event));\n            } else {\n                $(window).off(Event.RESIZE);\n            }\n        }\n        _hideModal() {\n            this._element.style.display = 'none';\n            this._element.setAttribute('aria-hidden', true);\n            this._element.removeAttribute('aria-modal');\n            this._isTransitioning = false;\n            this._showBackdrop(() => {\n                $(document.body).removeClass(ClassName.OPEN);\n                this._resetAdjustments();\n                this._resetScrollbar();\n                $(this._element).trigger(Event.HIDDEN);\n            });\n        }\n        _removeBackdrop() {\n            if (this._backdrop) {\n                $(this._backdrop).remove();\n                this._backdrop = null;\n            }\n        }\n        _showBackdrop(callback) {\n            const animate = $(this._element).hasClass(ClassName.FADE) ? ClassName.FADE : '';\n            if (this._isShown && this._config.backdrop) {\n                this._backdrop = document.createElement('div');\n                this._backdrop.className = ClassName.BACKDROP;\n                if (animate) {\n                    this._backdrop.classList.add(animate);\n                }\n                $(this._backdrop).appendTo(document.body);\n                $(this._element).on(Event.CLICK_DISMISS, event => {\n                    if (this._ignoreBackdropClick) {\n                        this._ignoreBackdropClick = false;\n                        return;\n                    }\n                    if (event.target !== event.currentTarget) {\n                        return;\n                    }\n                    if (this._config.backdrop === 'static') {\n                        this._element.focus();\n                    } else {\n                        this.hide();\n                    }\n                });\n                if (animate) {\n                    Util.reflow(this._backdrop);\n                }\n                $(this._backdrop).addClass(ClassName.SHOW);\n                if (!callback) {\n                    return;\n                }\n                if (!animate) {\n                    callback();\n                    return;\n                }\n                const backdropTransitionDuration = Util.getTransitionDurationFromElement(this._backdrop);\n                $(this._backdrop).one(Util.TRANSITION_END, callback).emulateTransitionEnd(backdropTransitionDuration);\n            } else if (!this._isShown && this._backdrop) {\n                $(this._backdrop).removeClass(ClassName.SHOW);\n                const callbackRemove = () => {\n                    this._removeBackdrop();\n                    if (callback) {\n                        callback();\n                    }\n                };\n                if ($(this._element).hasClass(ClassName.FADE)) {\n                    const backdropTransitionDuration = Util.getTransitionDurationFromElement(this._backdrop);\n                    $(this._backdrop).one(Util.TRANSITION_END, callbackRemove).emulateTransitionEnd(backdropTransitionDuration);\n                } else {\n                    callbackRemove();\n                }\n            } else if (callback) {\n                callback();\n            }\n        }\n        _adjustDialog() {\n            const isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight;\n            if (!this._isBodyOverflowing && isModalOverflowing) {\n                this._element.style.paddingLeft = `${ this._scrollbarWidth }px`;\n            }\n            if (this._isBodyOverflowing && !isModalOverflowing) {\n                this._element.style.paddingRight = `${ this._scrollbarWidth }px`;\n            }\n        }\n        _resetAdjustments() {\n            this._element.style.paddingLeft = '';\n            this._element.style.paddingRight = '';\n        }\n        _checkScrollbar() {\n            const rect = document.body.getBoundingClientRect();\n            this._isBodyOverflowing = rect.left + rect.right < window.innerWidth;\n            this._scrollbarWidth = this._getScrollbarWidth();\n        }\n        _setScrollbar() {\n            if (this._isBodyOverflowing) {\n                const fixedContent = [].slice.call(document.querySelectorAll(Selector.FIXED_CONTENT));\n                const stickyContent = [].slice.call(document.querySelectorAll(Selector.STICKY_CONTENT));\n                $(fixedContent).each((index, element) => {\n                    const actualPadding = element.style.paddingRight;\n                    const calculatedPadding = $(element).css('padding-right');\n                    $(element).data('padding-right', actualPadding).css('padding-right', `${ parseFloat(calculatedPadding) + this._scrollbarWidth }px`);\n                });\n                $(stickyContent).each((index, element) => {\n                    const actualMargin = element.style.marginRight;\n                    const calculatedMargin = $(element).css('margin-right');\n                    $(element).data('margin-right', actualMargin).css('margin-right', `${ parseFloat(calculatedMargin) - this._scrollbarWidth }px`);\n                });\n                const actualPadding = document.body.style.paddingRight;\n                const calculatedPadding = $(document.body).css('padding-right');\n                $(document.body).data('padding-right', actualPadding).css('padding-right', `${ parseFloat(calculatedPadding) + this._scrollbarWidth }px`);\n            }\n            $(document.body).addClass(ClassName.OPEN);\n        }\n        _resetScrollbar() {\n            const fixedContent = [].slice.call(document.querySelectorAll(Selector.FIXED_CONTENT));\n            $(fixedContent).each((index, element) => {\n                const padding = $(element).data('padding-right');\n                $(element).removeData('padding-right');\n                element.style.paddingRight = padding ? padding : '';\n            });\n            const elements = [].slice.call(document.querySelectorAll(`${ Selector.STICKY_CONTENT }`));\n            $(elements).each((index, element) => {\n                const margin = $(element).data('margin-right');\n                if (typeof margin !== 'undefined') {\n                    $(element).css('margin-right', margin).removeData('margin-right');\n                }\n            });\n            const padding = $(document.body).data('padding-right');\n            $(document.body).removeData('padding-right');\n            document.body.style.paddingRight = padding ? padding : '';\n        }\n        _getScrollbarWidth() {\n            const scrollDiv = document.createElement('div');\n            scrollDiv.className = ClassName.SCROLLBAR_MEASURER;\n            document.body.appendChild(scrollDiv);\n            const scrollbarWidth = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth;\n            document.body.removeChild(scrollDiv);\n            return scrollbarWidth;\n        }\n        static _jqueryInterface(config, relatedTarget) {\n            return this.each(function () {\n                let data = $(this).data(DATA_KEY);\n                //const _config = {\n                //    ...Default,\n                //    ...$this.data(),\n                //    ...typeof config === 'object' && config ? config : {}\n                //};\n                const _config = langx.mixin({},Default,$this.data(),typeof config === 'object' && config ? config : {});\n                if (!data) {\n                    data = new Modal(this, _config);\n                    $(this).data(DATA_KEY, data);\n                }\n                if (typeof config === 'string') {\n                    if (typeof data[config] === 'undefined') {\n                        throw new TypeError(`No method named \"${ config }\"`);\n                    }\n                    data[config](relatedTarget);\n                } else if (_config.show) {\n                    data.show(relatedTarget);\n                }\n            });\n        }\n    }\n    $(document).on(Event.CLICK_DATA_API, Selector.DATA_TOGGLE, function (event) {\n        let target;\n        const selector = Util.getSelectorFromElement(this);\n        if (selector) {\n            target = document.querySelector(selector);\n        }\n        //const config = $(target).data(DATA_KEY) ? 'toggle' : {\n        //    ...$(target).data(),\n        //    ...$(this).data()\n        //};\n        const config = $(target).data(DATA_KEY) ? 'toggle' : langx.mixin({},$(target).data(),$(this).data());\n        if (this.tagName === 'A' || this.tagName === 'AREA') {\n            event.preventDefault();\n        }\n        const $target = $(target).one(Event.SHOW, showEvent => {\n            if (showEvent.isDefaultPrevented()) {\n                return;\n            }\n            $target.one(Event.HIDDEN, () => {\n                if ($(this).is(':visible')) {\n                    this.focus();\n                }\n            });\n        });\n        Modal._jqueryInterface.call($(target), config, this);\n    });\n    $.fn[NAME] = Modal._jqueryInterface;\n    $.fn[NAME].Constructor = Modal;\n    $.fn[NAME].noConflict = () => {\n        $.fn[NAME] = jquery_NO_CONFLICT;\n        return Modal._jqueryInterface;\n    };\n    return Modal;\n});"]}