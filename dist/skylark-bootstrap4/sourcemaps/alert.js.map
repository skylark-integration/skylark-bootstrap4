{"version":3,"sources":["alert.js"],"names":["define","$","eventer","plugins","bs4","Util","VERSION","DATA_KEY","EVENT_KEY","jquery_NO_CONFLICT","fn","Event","CLOSE","CLOSED","CLICK_DATA_API","ClassName","ALERT","FADE","SHOW","Alert","[object Object]","element","this","_element","rootElement","_getRootElement","_triggerCloseEvent","isDefaultPrevented","_removeElement","removeData","selector","getSelectorFromElement","parent","document","querySelector","closest","closeEvent","create","trigger","removeClass","hasClass","_destroyElement","transitionDuration","getTransitionDurationFromElement","one","TRANSITION_END","event","emulateTransitionEnd","detach","remove","config","each","$element","data","alertInstance","preventDefault","close","on","_handleDismiss","_jqueryInterface","Constructor","noConflict"],"mappings":";;;;;;;AAAAA,QACI,0BACA,4BACA,4BACA,QACA,UACD,SAAUC,EAAGC,EAASC,EAAQC,EAAIC,GAEjC,aACA,MACMC,EAAU,QACVC,EAAW,WACXC,MAAiBD,IAEjBE,EAAqBR,EAAES,GAAO,MAE9BC,GACFC,cAAgBJ,IAChBK,gBAAkBL,IAClBM,uBAAyBN,cAEvBO,GACFC,MAAO,QACPC,KAAM,OACNC,KAAM,cAEJC,EACFC,YAAYC,GACRC,KAAKC,SAAWF,EAEpBf,qBACI,OAAOA,EAEXc,MAAMC,GACF,IAAIG,EAAcF,KAAKC,SACnBF,IACAG,EAAcF,KAAKG,gBAAgBJ,IAEnBC,KAAKI,mBAAmBF,GAC5BG,sBAGhBL,KAAKM,eAAeJ,GAExBJ,UACInB,EAAE4B,WAAWP,KAAKC,SAAUhB,GAC5Be,KAAKC,SAAW,KAEpBH,gBAAgBC,GACZ,MAAMS,EAAWzB,EAAK0B,uBAAuBV,GAC7C,IAAIW,GAAS,EAOb,OANIF,IACAE,EAASC,SAASC,cAAcJ,IAE/BE,IACDA,EAAS/B,EAAEoB,GAASc,YAAapB,EAAUC,SAAU,IAElDgB,EAEXZ,mBAAmBC,GACf,MAAMe,EAAalC,EAAQmC,OAAO1B,EAAMC,OAExC,OADAX,EAAEoB,GAASiB,QAAQF,GACZA,EAEXhB,eAAeC,GAEX,GADApB,EAAEoB,GAASkB,YAAYxB,EAAUG,OAC5BjB,EAAEoB,GAASmB,SAASzB,EAAUE,MAE/B,YADAK,KAAKmB,gBAAgBpB,GAGzB,MAAMqB,EAAqBrC,EAAKsC,iCAAiCtB,GACjEpB,EAAEoB,GAASuB,IAAIvC,EAAKwC,eAAgBC,GAASxB,KAAKmB,gBAAgBpB,EAASyB,IAAQC,qBAAqBL,GAE5GtB,gBAAgBC,GACZpB,EAAEoB,GAAS2B,SAASV,QAAQ3B,EAAME,QAAQoC,SAE9C7B,wBAAwB8B,GACpB,OAAO5B,KAAK6B,KAAK,WACb,MAAMC,EAAWnD,EAAEqB,MACnB,IAAI+B,EAAOD,EAASC,KAAK9C,GACpB8C,IACDA,EAAO,IAAIlC,EAAMG,MACjB8B,EAASC,KAAK9C,EAAU8C,IAEb,UAAXH,GACAG,EAAKH,GAAQ5B,QAIzBF,sBAAsBkC,GAClB,OAAO,SAAUR,GACTA,GACAA,EAAMS,iBAEVD,EAAcE,MAAMlC,QAahC,OARArB,EAAEgC,UAAUwB,GAAG9C,EAAMG,eApFO,yBAoF2BK,EAAMuC,eAAe,IAAIvC,IAChFlB,EAAES,GAAO,MAAIS,EAAMwC,iBACnB1D,EAAES,GAAO,MAAEkD,YAAczC,EACzBlB,EAAES,GAAO,MAAEmD,WAAa,MACpB5D,EAAES,GAAO,MAAID,EACNU,EAAMwC,mBAGVvD,EAAIe,MAAQA","file":"../alert.js","sourcesContent":["define([\n    'skylark-utils-dom/query',\n    'skylark-utils-dom/eventer',\n    'skylark-utils-dom/plugins',\n    \"./bs4\",\n    './util'\n], function ($, eventer, plugins,bs4,Util) {\n\n    'use strict';\n    const NAME = 'alert';\n    const VERSION = '4.1.3';\n    const DATA_KEY = 'bs.alert';\n    const EVENT_KEY = `.${ DATA_KEY }`;\n    const DATA_API_KEY = '.data-api';\n    const jquery_NO_CONFLICT = $.fn[NAME];\n    const Selector = { DISMISS: '[data-dismiss=\"alert\"]' };\n    const Event = {\n        CLOSE: `close${ EVENT_KEY }`,\n        CLOSED: `closed${ EVENT_KEY }`,\n        CLICK_DATA_API: `click${ EVENT_KEY }${ DATA_API_KEY }`\n    };\n    const ClassName = {\n        ALERT: 'alert',\n        FADE: 'fade',\n        SHOW: 'show'\n    };\n    class Alert {\n        constructor(element) {\n            this._element = element;\n        }\n        static get VERSION() {\n            return VERSION;\n        }\n        close(element) {\n            let rootElement = this._element;\n            if (element) {\n                rootElement = this._getRootElement(element);\n            }\n            const customEvent = this._triggerCloseEvent(rootElement);\n            if (customEvent.isDefaultPrevented()) {\n                return;\n            }\n            this._removeElement(rootElement);\n        }\n        dispose() {\n            $.removeData(this._element, DATA_KEY);\n            this._element = null;\n        }\n        _getRootElement(element) {\n            const selector = Util.getSelectorFromElement(element);\n            let parent = false;\n            if (selector) {\n                parent = document.querySelector(selector);\n            }\n            if (!parent) {\n                parent = $(element).closest(`.${ ClassName.ALERT }`)[0];\n            }\n            return parent;\n        }\n        _triggerCloseEvent(element) {\n            const closeEvent = eventer.create(Event.CLOSE);\n            $(element).trigger(closeEvent);\n            return closeEvent;\n        }\n        _removeElement(element) {\n            $(element).removeClass(ClassName.SHOW);\n            if (!$(element).hasClass(ClassName.FADE)) {\n                this._destroyElement(element);\n                return;\n            }\n            const transitionDuration = Util.getTransitionDurationFromElement(element);\n            $(element).one(Util.TRANSITION_END, event => this._destroyElement(element, event)).emulateTransitionEnd(transitionDuration);\n        }\n        _destroyElement(element) {\n            $(element).detach().trigger(Event.CLOSED).remove();\n        }\n        static _jqueryInterface(config) {\n            return this.each(function () {\n                const $element = $(this);\n                let data = $element.data(DATA_KEY);\n                if (!data) {\n                    data = new Alert(this);\n                    $element.data(DATA_KEY, data);\n                }\n                if (config === 'close') {\n                    data[config](this);\n                }\n            });\n        }\n        static _handleDismiss(alertInstance) {\n            return function (event) {\n                if (event) {\n                    event.preventDefault();\n                }\n                alertInstance.close(this);\n            };\n        }\n    }\n\n    $(document).on(Event.CLICK_DATA_API, Selector.DISMISS, Alert._handleDismiss(new Alert()));\n    $.fn[NAME] = Alert._jqueryInterface;\n    $.fn[NAME].Constructor = Alert;\n    $.fn[NAME].noConflict = () => {\n        $.fn[NAME] = jquery_NO_CONFLICT;\n        return Alert._jqueryInterface;\n    };\n\n    return bs4.Alert = Alert;\n});"]}