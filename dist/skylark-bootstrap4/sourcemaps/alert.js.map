{"version":3,"sources":["alert.js"],"names":["define","$","plugins","bs4","Util","VERSION","DATA_KEY","EVENT_KEY","jquery_NO_CONFLICT","fn","Event","CLOSE","CLOSED","CLICK_DATA_API","ClassName","ALERT","FADE","SHOW","Alert","[object Object]","element","this","_element","rootElement","_getRootElement","_triggerCloseEvent","isDefaultPrevented","_removeElement","removeData","selector","getSelectorFromElement","parent","document","querySelector","closest","closeEvent","trigger","removeClass","hasClass","_destroyElement","transitionDuration","getTransitionDurationFromElement","one","TRANSITION_END","event","emulateTransitionEnd","detach","remove","config","each","$element","data","alertInstance","preventDefault","close","on","_handleDismiss","_jqueryInterface","Constructor","noConflict"],"mappings":";;;;;;;AAAAA,QACI,0BACA,4BACA,QACA,UACD,SAAUC,EAAGC,EAAQC,EAAIC,GAExB,aACA,MACMC,EAAU,QACVC,EAAW,WACXC,MAAiBD,IAEjBE,EAAqBP,EAAEQ,GAAO,MAE9BC,GACFC,cAAgBJ,IAChBK,gBAAkBL,IAClBM,uBAAyBN,cAEvBO,GACFC,MAAO,QACPC,KAAM,OACNC,KAAM,cAEJC,EACFC,YAAYC,GACRC,KAAKC,SAAWF,EAEpBf,qBACI,OAAOA,EAEXc,MAAMC,GACF,IAAIG,EAAcF,KAAKC,SACnBF,IACAG,EAAcF,KAAKG,gBAAgBJ,IAEnBC,KAAKI,mBAAmBF,GAC5BG,sBAGhBL,KAAKM,eAAeJ,GAExBJ,UACIlB,EAAE2B,WAAWP,KAAKC,SAAUhB,GAC5Be,KAAKC,SAAW,KAEpBH,gBAAgBC,GACZ,MAAMS,EAAWzB,EAAK0B,uBAAuBV,GAC7C,IAAIW,GAAS,EAOb,OANIF,IACAE,EAASC,SAASC,cAAcJ,IAE/BE,IACDA,EAAS9B,EAAEmB,GAASc,YAAapB,EAAUC,SAAU,IAElDgB,EAEXZ,mBAAmBC,GACf,MAAMe,EAAalC,EAAES,MAAMA,EAAMC,OAEjC,OADAV,EAAEmB,GAASgB,QAAQD,GACZA,EAEXhB,eAAeC,GAEX,GADAnB,EAAEmB,GAASiB,YAAYvB,EAAUG,OAC5BhB,EAAEmB,GAASkB,SAASxB,EAAUE,MAE/B,YADAK,KAAKkB,gBAAgBnB,GAGzB,MAAMoB,EAAqBpC,EAAKqC,iCAAiCrB,GACjEnB,EAAEmB,GAASsB,IAAItC,EAAKuC,eAAgBC,GAASvB,KAAKkB,gBAAgBnB,EAASwB,IAAQC,qBAAqBL,GAE5GrB,gBAAgBC,GACZnB,EAAEmB,GAAS0B,SAASV,QAAQ1B,EAAME,QAAQmC,SAE9C5B,wBAAwB6B,GACpB,OAAO3B,KAAK4B,KAAK,WACb,MAAMC,EAAWjD,EAAEoB,MACnB,IAAI8B,EAAOD,EAASC,KAAK7C,GACpB6C,IACDA,EAAO,IAAIjC,EAAMG,MACjB6B,EAASC,KAAK7C,EAAU6C,IAEb,UAAXH,GACAG,EAAKH,GAAQ3B,QAIzBF,sBAAsBiC,GAClB,OAAO,SAAUR,GACTA,GACAA,EAAMS,iBAEVD,EAAcE,MAAMjC,QAahC,OARApB,EAAE+B,UAAUuB,GAAG7C,EAAMG,eApFO,yBAoF2BK,EAAMsC,eAAe,IAAItC,IAChFjB,EAAEQ,GAAO,MAAIS,EAAMuC,iBACnBxD,EAAEQ,GAAO,MAAEiD,YAAcxC,EACzBjB,EAAEQ,GAAO,MAAEkD,WAAa,MACpB1D,EAAEQ,GAAO,MAAID,EACNU,EAAMuC,mBAGVtD,EAAIe,MAAQA","file":"../alert.js","sourcesContent":["define([\n    'skylark-utils-dom/query',\n    'skylark-utils-dom/plugins',\n    \"./bs4\",\n    './util'\n], function ($, plugins,bs4,Util) {\n\n    'use strict';\n    const NAME = 'alert';\n    const VERSION = '4.1.3';\n    const DATA_KEY = 'bs.alert';\n    const EVENT_KEY = `.${ DATA_KEY }`;\n    const DATA_API_KEY = '.data-api';\n    const jquery_NO_CONFLICT = $.fn[NAME];\n    const Selector = { DISMISS: '[data-dismiss=\"alert\"]' };\n    const Event = {\n        CLOSE: `close${ EVENT_KEY }`,\n        CLOSED: `closed${ EVENT_KEY }`,\n        CLICK_DATA_API: `click${ EVENT_KEY }${ DATA_API_KEY }`\n    };\n    const ClassName = {\n        ALERT: 'alert',\n        FADE: 'fade',\n        SHOW: 'show'\n    };\n    class Alert {\n        constructor(element) {\n            this._element = element;\n        }\n        static get VERSION() {\n            return VERSION;\n        }\n        close(element) {\n            let rootElement = this._element;\n            if (element) {\n                rootElement = this._getRootElement(element);\n            }\n            const customEvent = this._triggerCloseEvent(rootElement);\n            if (customEvent.isDefaultPrevented()) {\n                return;\n            }\n            this._removeElement(rootElement);\n        }\n        dispose() {\n            $.removeData(this._element, DATA_KEY);\n            this._element = null;\n        }\n        _getRootElement(element) {\n            const selector = Util.getSelectorFromElement(element);\n            let parent = false;\n            if (selector) {\n                parent = document.querySelector(selector);\n            }\n            if (!parent) {\n                parent = $(element).closest(`.${ ClassName.ALERT }`)[0];\n            }\n            return parent;\n        }\n        _triggerCloseEvent(element) {\n            const closeEvent = $.Event(Event.CLOSE);\n            $(element).trigger(closeEvent);\n            return closeEvent;\n        }\n        _removeElement(element) {\n            $(element).removeClass(ClassName.SHOW);\n            if (!$(element).hasClass(ClassName.FADE)) {\n                this._destroyElement(element);\n                return;\n            }\n            const transitionDuration = Util.getTransitionDurationFromElement(element);\n            $(element).one(Util.TRANSITION_END, event => this._destroyElement(element, event)).emulateTransitionEnd(transitionDuration);\n        }\n        _destroyElement(element) {\n            $(element).detach().trigger(Event.CLOSED).remove();\n        }\n        static _jqueryInterface(config) {\n            return this.each(function () {\n                const $element = $(this);\n                let data = $element.data(DATA_KEY);\n                if (!data) {\n                    data = new Alert(this);\n                    $element.data(DATA_KEY, data);\n                }\n                if (config === 'close') {\n                    data[config](this);\n                }\n            });\n        }\n        static _handleDismiss(alertInstance) {\n            return function (event) {\n                if (event) {\n                    event.preventDefault();\n                }\n                alertInstance.close(this);\n            };\n        }\n    }\n\n    $(document).on(Event.CLICK_DATA_API, Selector.DISMISS, Alert._handleDismiss(new Alert()));\n    $.fn[NAME] = Alert._jqueryInterface;\n    $.fn[NAME].Constructor = Alert;\n    $.fn[NAME].noConflict = () => {\n        $.fn[NAME] = jquery_NO_CONFLICT;\n        return Alert._jqueryInterface;\n    };\n\n    return bs4.Alert = Alert;\n});"]}